"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[128],{3215:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>t,contentTitle:()=>i,default:()=>u,frontMatter:()=>l,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"DESARROLLO WEB/laravel","title":"**GU\xcdA DE LARAVEL**","description":"\ud83d\udce6 PROGRAMAS A UTILIZAR","source":"@site/docs/DESARROLLO WEB/laravel.md","sourceDirName":"DESARROLLO WEB","slug":"/DESARROLLO WEB/laravel","permalink":"/blog/docs/DESARROLLO WEB/laravel","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/DESARROLLO WEB/laravel.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_label":"Laravel","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Java","permalink":"/blog/docs/DESARROLLO WEB/java"},"next":{"title":"PHP","permalink":"/blog/docs/DESARROLLO WEB/php"}}');var s=n(4848),o=n(8453);const l={sidebar_label:"Laravel",sidebar_position:1},i="GU\xcdA DE LARAVEL",t={},d=[{value:"\ud83d\udce6 <strong>PROGRAMAS A UTILIZAR</strong>",id:"-programas-a-utilizar",level:2},{value:"\ud83d\udcdd <strong>REQUISITOS B\xc1SICOS</strong>",id:"-requisitos-b\xe1sicos",level:2},{value:"\ud83d\udca1 <strong>CONCEPTOS B\xc1SICOS</strong>",id:"-conceptos-b\xe1sicos",level:2},{value:"\ud83d\udd27 <strong>INSTALACI\xd3N DE LARAVEL</strong>",id:"-instalaci\xf3n-de-laravel",level:2},{value:"\ud83d\udcc1 <strong>ESTRUCTURA DE CARPETAS</strong>",id:"-estructura-de-carpetas",level:2},{value:"\ud83d\udcc4 <strong>GENERAR PDF CON DOMPDF</strong>",id:"-generar-pdf-con-dompdf",level:2},{value:"PASO 1:",id:"paso-1",level:3},{value:"PASO 2: OPCIONAL",id:"paso-2-opcional",level:3},{value:"PASO 3: RUTA",id:"paso-3-ruta",level:3},{value:"PASO 4: EN EL CONTROLADOR",id:"paso-4-en-el-controlador",level:3},{value:"PASO 5: EN LA VISTA PREVIA",id:"paso-5-en-la-vista-previa",level:3},{value:"\ud83d\udda8\ufe0f <strong>IMPRIMIR</strong>",id:"\ufe0f-imprimir",level:2},{value:"\ud83c\udf10 <strong>C\xd3MO CREAR UN DOMINIO LOCAL</strong>",id:"-c\xf3mo-crear-un-dominio-local",level:2},{value:"\ud83d\ude80 CREAR UN PROYECTO",id:"-crear-un-proyecto",level:2},{value:"Crear un nuevo proyecto Laravel",id:"crear-un-nuevo-proyecto-laravel",level:3},{value:"Configurar el proyecto para el desarrollo",id:"configurar-el-proyecto-para-el-desarrollo",level:3},{value:"Instalar Bootstrap",id:"instalar-bootstrap",level:3},{value:"Correr el servidor",id:"correr-el-servidor",level:3},{value:"Extensiones recomendadas para Visual Studio Code",id:"extensiones-recomendadas-para-visual-studio-code",level:3},{value:"\ud83d\udcca <strong>CREAR UN PROYECTO CON INFYOM</strong>",id:"-crear-un-proyecto-con-infyom",level:2},{value:"\ud83d\udcdd <strong>MODELOS</strong>",id:"-modelos",level:2},{value:"Crear un modelo",id:"crear-un-modelo",level:3},{value:"Configurar el modelo",id:"configurar-el-modelo",level:3},{value:"\ud83d\udc41\ufe0f <strong>VISTAS</strong>",id:"\ufe0f-vistas",level:2},{value:"\ud83c\udfae <strong>CONTROLADORES</strong>",id:"-controladores",level:2},{value:"\ud83d\udccb <strong>REQUEST</strong>",id:"-request",level:2},{value:"El m\xe9todo en el controlador",id:"el-m\xe9todo-en-el-controlador",level:3},{value:"Request en el mismo controlador",id:"request-en-el-mismo-controlador",level:3},{value:"Configuraci\xf3n del Request",id:"configuraci\xf3n-del-request",level:3},{value:"M\xe9todos en Request",id:"m\xe9todos-en-request",level:3},{value:"Validaciones de formularios",id:"validaciones-de-formularios",level:3},{value:"Mostrar errores de validaci\xf3n",id:"mostrar-errores-de-validaci\xf3n",level:3},{value:"Conservar valores anteriores en caso de error",id:"conservar-valores-anteriores-en-caso-de-error",level:3},{value:"\ud83d\udccf <strong>RULES</strong>",id:"-rules",level:2},{value:"El m\xe9todo en Rule",id:"el-m\xe9todo-en-rule",level:3},{value:"Modificar esto en el Request",id:"modificar-esto-en-el-request",level:3},{value:"\ud83d\udccf <strong>RULES CON PAR\xc1METROS</strong>",id:"-rules-con-par\xe1metros",level:2},{value:"Modificar esto en el Request",id:"modificar-esto-en-el-request-1",level:3},{value:"El m\xe9todo en Rule con par\xe1metros",id:"el-m\xe9todo-en-rule-con-par\xe1metros",level:3},{value:"\ud83d\udee3\ufe0f <strong>ROUTES</strong>",id:"\ufe0f-routes",level:2},{value:"\ud83d\udd12 <strong>MIDDLEWARE PERSONALIZADO</strong>",id:"-middleware-personalizado",level:2},{value:"C\xf3mo crear un nuevo Middleware",id:"c\xf3mo-crear-un-nuevo-middleware",level:3},{value:"Configurar la ruta",id:"configurar-la-ruta",level:3},{value:"Configurar Kernel.php en app/http/kernel.php",id:"configurar-kernelphp-en-apphttpkernelphp",level:3},{value:"Configurar el Middleware",id:"configurar-el-middleware",level:3},{value:"\ud83d\udd0d <strong>EXPRESIONES REGULARES</strong>",id:"-expresiones-regulares",level:2},{value:"\ud83d\udee0\ufe0f <strong>M\xc9TODOS</strong>",id:"\ufe0f-m\xe9todos",level:2},{value:"\ud83d\udd2a <strong>C\xd3MO FUNCIONA BLADE</strong>",id:"-c\xf3mo-funciona-blade",level:2},{value:"Plantilla Blade",id:"plantilla-blade",level:3},{value:"C\xf3mo llamar y utilizar una plantilla Blade",id:"c\xf3mo-llamar-y-utilizar-una-plantilla-blade",level:3},{value:"\ud83c\udfed <strong>FACTORY</strong>",id:"-factory",level:2},{value:"\ud83d\udd04 <strong>COMPARTIR DATOS ENTRE VISTAS</strong>",id:"-compartir-datos-entre-vistas",level:2},{value:"En la vista",id:"en-la-vista",level:3},{value:"\ud83d\udd10 <strong>PERSONALIZAR LOGIN</strong>",id:"-personalizar-login",level:2},{value:"Cambiar tabla del login",id:"cambiar-tabla-del-login",level:3},{value:"En el modelo",id:"en-el-modelo",level:3},{value:"Creando un nuevo modelo para login",id:"creando-un-nuevo-modelo-para-login",level:3},{value:"Cambiar modelo en config/auth.php",id:"cambiar-modelo-en-configauthphp",level:3},{value:"Cambiar a MD5 Laravel en vendor\\laravel\\framework\\src\\Illuminate\\Auth\\EloquentUserProvider.php",id:"cambiar-a-md5-laravel-en-vendorlaravelframeworksrcilluminateautheloquentuserproviderphp",level:3},{value:"Agregamos lo siguiente en app/Http/Controllers/Auth/LoginController",id:"agregamos-lo-siguiente-en-apphttpcontrollersauthlogincontroller",level:3},{value:"Cambiamos el name de la vista login",id:"cambiamos-el-name-de-la-vista-login",level:3},{value:"Mensaje de error y bot\xf3n entrar",id:"mensaje-de-error-y-bot\xf3n-entrar",level:3},{value:"Borrar verificaci\xf3n de email en routes/web.php",id:"borrar-verificaci\xf3n-de-email-en-routeswebphp",level:3},{value:"Comentar en controller/VerificationController",id:"comentar-en-controllerverificationcontroller",level:3},{value:"Corregir en vendor/laravel/framework/src/illuminate/routing/controller.php",id:"corregir-en-vendorlaravelframeworksrcilluminateroutingcontrollerphp",level:3},{value:"Resolver restricciones de consultas SQL",id:"resolver-restricciones-de-consultas-sql",level:3},{value:"\ud83d\udd11 <strong>LOGIN CON VARIAS TABLAS</strong>",id:"-login-con-varias-tablas",level:2},{value:"Paso 1: Enviar datos de la BD a la vista Login",id:"paso-1-enviar-datos-de-la-bd-a-la-vista-login",level:3},{value:"\u26a0\ufe0f <strong>ERROR ACCESO DENEGADO &#39;FORGE&#39;</strong>",id:"\ufe0f-error-acceso-denegado-forge",level:2},{value:"Archivo .env",id:"archivo-env",level:3},{value:"Archivo database.php",id:"archivo-databasephp",level:3},{value:"\ud83d\udeaa <strong>PERSONALIZAR REDIRECCI\xd3N LOGIN</strong>",id:"-personalizar-redirecci\xf3n-login",level:2},{value:"Editar app/Http/Controllers/HomeController",id:"editar-apphttpcontrollershomecontroller",level:3},{value:"\ud83d\udcca <strong>GENERAR GR\xc1FICOS</strong>",id:"-generar-gr\xe1ficos",level:2},{value:"CDN para Chart.js",id:"cdn-para-chartjs",level:3},{value:"HTML para el gr\xe1fico",id:"html-para-el-gr\xe1fico",level:3},{value:"Mostrando datos desde el controlador",id:"mostrando-datos-desde-el-controlador",level:3},{value:"Gr\xe1fico de l\xedneas",id:"gr\xe1fico-de-l\xedneas",level:3},{value:"Gr\xe1fico de barras",id:"gr\xe1fico-de-barras",level:3},{value:"Gr\xe1fico circular",id:"gr\xe1fico-circular",level:3},{value:"\ud83d\udce7 <strong>ENVIAR MAILS</strong>",id:"-enviar-mails",level:2},{value:"Paso 1: Crear un proyecto",id:"paso-1-crear-un-proyecto",level:3},{value:"Paso 2: Crear los controladores",id:"paso-2-crear-los-controladores",level:3},{value:"Paso 3: Crear las rutas",id:"paso-3-crear-las-rutas",level:3},{value:"Paso 4: Configurar .env",id:"paso-4-configurar-env",level:3},{value:"Paso 4 (Servidor): Configurar .env en Servidor",id:"paso-4-servidor-configurar-env-en-servidor",level:3},{value:"Paso 5: Crear las vistas",id:"paso-5-crear-las-vistas",level:3},{value:"En caso de error",id:"en-caso-de-error",level:3},{value:"\ud83d\udd0d <strong>GENERAR QR CON SIMPLE QRCODE</strong>",id:"-generar-qr-con-simple-qrcode",level:2},{value:"Ejemplo del controlador del SISTEMA DE APAFA",id:"ejemplo-del-controlador-del-sistema-de-apafa",level:3},{value:"\ud83d\udce5 <strong>IMPORTAR DATOS DESDE EXCEL</strong>",id:"-importar-datos-desde-excel",level:2},{value:"En el ParticipanteImport",id:"en-el-participanteimport",level:3},{value:"En la ruta",id:"en-la-ruta",level:3},{value:"En el controlador",id:"en-el-controlador",level:3},{value:"En el formulario",id:"en-el-formulario",level:3},{value:"\ud83d\udce4 <strong>GENERAR EXCEL</strong>",id:"-generar-excel",level:2},{value:"En el UsersExport",id:"en-el-usersexport",level:3},{value:"En la ruta",id:"en-la-ruta-1",level:3},{value:"En el controlador",id:"en-el-controlador-1",level:3},{value:"En vista previa",id:"en-vista-previa",level:3},{value:"\ud83d\udd0c <strong>CONEXI\xd3N BD</strong>",id:"-conexi\xf3n-bd",level:2},{value:"Archivo .env",id:"archivo-env-1",level:3},{value:"\ud83d\udd0d <strong>CONSULTAS SQL</strong>",id:"-consultas-sql",level:2},{value:"\ud83d\udd19 <strong>RETURN</strong>",id:"-return",level:2},{value:"\ud83d\udd04 <strong>AJAX EN LARAVEL PARTE 2</strong>",id:"-ajax-en-laravel-parte-2",level:2},{value:"En el app",id:"en-el-app",level:3},{value:"En la ruta y el controlador",id:"en-la-ruta-y-el-controlador",level:3},{value:"\ud83d\uddbc\ufe0f <strong>ENVIAR IMAGEN A LA BD DESDE UN FORMULARIO</strong>",id:"\ufe0f-enviar-imagen-a-la-bd-desde-un-formulario",level:2},{value:"Paso 1: El formulario debe llevar el atributo enctype",id:"paso-1-el-formulario-debe-llevar-el-atributo-enctype",level:3},{value:"Paso 2: Recibir la imagen enviada desde el controlador",id:"paso-2-recibir-la-imagen-enviada-desde-el-controlador",level:3},{value:"Paso 3: Mostrar en pantalla la imagen",id:"paso-3-mostrar-en-pantalla-la-imagen",level:3},{value:"\ud83d\udd27 <strong>OTROS COMANDOS</strong>",id:"-otros-comandos",level:2},{value:"Llamar ruta con par\xe1metros",id:"llamar-ruta-con-par\xe1metros",level:3},{value:"Select autom\xe1tico",id:"select-autom\xe1tico",level:3},{value:"Dar formato a men\xfas de navegaci\xf3n",id:"dar-formato-a-men\xfas-de-navegaci\xf3n",level:3},{value:"\ud83d\udcf1 <strong>PWA (PROGRESSIVE WEB APP)</strong>",id:"-pwa-progressive-web-app",level:2},{value:"Si hay error, configurar lo siguiente",id:"si-hay-error-configurar-lo-siguiente",level:3},{value:"Instrucciones de implementaci\xf3n",id:"instrucciones-de-implementaci\xf3n",level:3},{value:"\ud83d\udcf1 <strong>WHATSAPP API</strong>",id:"-whatsapp-api",level:2},{value:"\ud83d\udcc4 <strong>PAGINACI\xd3N EN LARAVEL</strong>",id:"-paginaci\xf3n-en-laravel",level:2},{value:"Paso 1: Debes tener creado tu Modelo",id:"paso-1-debes-tener-creado-tu-modelo",level:3},{value:"Paso 2: En el controlador",id:"paso-2-en-el-controlador",level:3},{value:"Paso 3: En la vista",id:"paso-3-en-la-vista",level:3},{value:"\ud83c\udd94 <strong>OBTENER EL ID ASIGNADO A UN REGISTRO</strong>",id:"-obtener-el-id-asignado-a-un-registro",level:2},{value:"\ud83d\udcbe <strong>GUARDAR ARCHIVOS EN SERVIDOR</strong>",id:"-guardar-archivos-en-servidor",level:2},{value:"\ud83c\udf6d <strong>CONFIGURAR SWEET ALERT</strong>",id:"-configurar-sweet-alert",level:2},{value:"HTML para el bot\xf3n de eliminar",id:"html-para-el-bot\xf3n-de-eliminar",level:3},{value:"JavaScript para Sweet Alert",id:"javascript-para-sweet-alert",level:3},{value:"\ud83d\udcbe <strong>DESCARGAR SQL DE BD (BACKUP)</strong>",id:"-descargar-sql-de-bd-backup",level:2},{value:"\ud83d\udcca <strong>QUICKCHART</strong>",id:"-quickchart",level:2},{value:"\ud83d\udd0c <strong>API REST</strong>",id:"-api-rest",level:2},{value:"Crear tu controlador",id:"crear-tu-controlador",level:3},{value:"Crear tu ruta",id:"crear-tu-ruta",level:3},{value:"URL para pruebas",id:"url-para-pruebas",level:3},{value:"\ud83d\ude80 <strong>VITE</strong>",id:"-vite",level:2},{value:"Pasos para correr proyecto con Vite",id:"pasos-para-correr-proyecto-con-vite",level:3},{value:"Pasos para correr proyecto con Vite en Producci\xf3n",id:"pasos-para-correr-proyecto-con-vite-en-producci\xf3n",level:3}];function c(e){const r={a:"a",admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"gu\xeda-de-laravel",children:(0,s.jsx)(r.strong,{children:"GU\xcdA DE LARAVEL"})})}),"\n",(0,s.jsxs)(r.h2,{id:"-programas-a-utilizar",children:["\ud83d\udce6 ",(0,s.jsx)(r.strong,{children:"PROGRAMAS A UTILIZAR"})]}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:(0,s.jsx)(r.a,{href:"https://getcomposer.org/",children:"Composer"})}),(0,s.jsx)(r.br,{}),"\n","Nos permite declarar las bibliotecas que necesitaremos en nuestros proyectos y de cu\xe1les librer\xedas depende. Composer nos ayudar\xe1 a instalar y actualizar de una manera sencilla y pr\xe1ctica."]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:(0,s.jsx)(r.a,{href:"https://git-scm.com/downloads",children:"Git"})}),(0,s.jsx)(r.br,{}),"\n","Es un programa que nos permite lo siguiente:"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Ejecutar comandos en la terminal."}),"\n",(0,s.jsx)(r.li,{children:"Subir nuestro proyecto a un repositorio."}),"\n",(0,s.jsx)(r.li,{children:"Y m\xe1s."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:(0,s.jsx)(r.a,{href:"https://nodejs.org/es/download/",children:"Node.js"})}),(0,s.jsx)(r.br,{}),"\n","Node.js es un entorno en tiempo de ejecuci\xf3n que nos permite ejecutar comandos en el servidor."]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:(0,s.jsx)(r.a,{href:"https://code.visualstudio.com/download",children:"Visual Studio Code"})}),(0,s.jsx)(r.br,{}),"\n","Visual Studio Code es un editor de c\xf3digo fuente desarrollado por Microsoft."]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:(0,s.jsx)(r.a,{href:"https://dev.mysql.com/downloads/workbench/",children:"MySQL"})}),(0,s.jsx)(r.br,{}),"\n","MySQL (My Structured Query Language) es un gestor de base de datos que nos permite almacenar y administrar informaci\xf3n."]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:(0,s.jsx)(r.a,{href:"https://www.apachefriends.org/es/download.html",children:"XAMPP"})}),(0,s.jsx)(r.br,{}),"\n","XAMPP es un servidor HTTP de software libre que incluye Apache, MariaDB/MySQL, PHP, y Perl, y est\xe1 disponible para cualquier plataforma."]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:(0,s.jsx)(r.a,{href:"https://www.navicat.com/es/download/navicat-premium",children:"Navicat"})}),(0,s.jsx)(r.br,{}),"\n","Es un programa que facilita la administraci\xf3n de bases de datos."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-requisitos-b\xe1sicos",children:["\ud83d\udcdd ",(0,s.jsx)(r.strong,{children:"REQUISITOS B\xc1SICOS"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Conocimiento en ",(0,s.jsx)(r.strong,{children:"PHP"})]}),"\n",(0,s.jsxs)(r.li,{children:["Conocimiento en ",(0,s.jsx)(r.strong,{children:"HTML"})]}),"\n",(0,s.jsxs)(r.li,{children:["Conocimiento en ",(0,s.jsx)(r.strong,{children:"CSS"})]}),"\n",(0,s.jsxs)(r.li,{children:["Conocimiento en ",(0,s.jsx)(r.strong,{children:"JavaScript"})," b\xe1sico"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Laravel 8"}),": PHP >= 7.3"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Laravel 9"}),": PHP >= 8"]}),"\n"]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-conceptos-b\xe1sicos",children:["\ud83d\udca1 ",(0,s.jsx)(r.strong,{children:"CONCEPTOS B\xc1SICOS"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Laravel"}),": Es un framework de c\xf3digo abierto para desarrollar aplicaciones web en PHP. Laravel maneja una estructura de dise\xf1o ",(0,s.jsx)(r.strong,{children:"MVC"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:(0,s.jsx)(r.a,{href:"#",children:"Blade"})}),": Blade es un motor de plantillas, sencillo pero potente."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-instalaci\xf3n-de-laravel",children:["\ud83d\udd27 ",(0,s.jsx)(r.strong,{children:"INSTALACI\xd3N DE LARAVEL"})]}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"Ejecuta el siguiente comando para instalar Laravel globalmente:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"composer global require laravel/installer\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"Ver las versiones de los programas utilizados:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan --version   # Versi\xf3n de Laravel en el proyecto\r\nnode -v                 # Versi\xf3n de Node.js\r\nphp -v                  # Versi\xf3n de PHP\r\nlaravel -v              # Versi\xf3n de Laravel\r\nnpm -v                  # Versi\xf3n de npm\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-estructura-de-carpetas",children:["\ud83d\udcc1 ",(0,s.jsx)(r.strong,{children:"ESTRUCTURA DE CARPETAS"})]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.img,{alt:"Estructura de carpetas",src:n(3934).A+"",width:"1280",height:"720"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-generar-pdf-con-dompdf",children:["\ud83d\udcc4 ",(0,s.jsx)(r.strong,{children:"GENERAR PDF CON DOMPDF"})]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.a,{href:"https://github.com/barryvdh/laravel-dompdf",children:"DOMPdf"})," nos permite generar o convertir una pagina en PDF."]}),"\n",(0,s.jsx)(r.h3,{id:"paso-1",children:"PASO 1:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"composer require barryvdh/laravel-dompdf    //INSTALAMOS\r\nphp artisan make:controller PdfController   //CREAMOS UN CONTROLADOR\r\n/* CREAMOS UNA VISTA */\n"})}),"\n",(0,s.jsx)(r.h3,{id:"paso-2-opcional",children:"PASO 2: OPCIONAL"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"Barryvdh\\DomPDF\\ServiceProvider::class,\t->PEGAR ESTE COMANDO EN CONFIG/APP LIN:164\r\n'PDF' => Barryvdh\\DomPDF\\Facade::class,\t->PEGAR ESTE COMANDO EN CONFIG/APP LIN:233\n"})}),"\n",(0,s.jsx)(r.h3,{id:"paso-3-ruta",children:"PASO 3: RUTA"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"Route::get('ver-pdf',[PdfController::class,'index'])->name('pdf.index');\n"})}),"\n",(0,s.jsx)(r.h3,{id:"paso-4-en-el-controlador",children:"PASO 4: EN EL CONTROLADOR"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"namespace App\\Http\\Controllers;\r\n\r\nuse Barryvdh\\DomPDF;\r\nuse Barryvdh\\DomPDF\\PDF;\r\nuse Illuminate\\Http\\Request;\r\nuse Illuminate\\Support\\Facades\\DB;\r\n\r\nclass PdfController extends Controller\r\n{\r\n    public function index()\r\n    {\r\n        /* METODO 1 */\r\n        //$pdf = \\App::make('dompdf.wrapper');\r\n        //$pdf->loadHTML('<h1 style=\"color:red\">Test</h1>');\r\n        //return $pdf->stream();\r\n        //return $pdf->download(\"nombre archivo.pdf\");//DESCARGA AUTOMATICA DEL PDF\r\n\r\n        /* METODO 2 */\r\n        $datos = DB::select('select * from venta');\r\n        $pdf = \\App::make('dompdf.wrapper');\r\n        //$pdf->setPaper('a4', 'landscape');//FORMATO HORIZONTAL\r\n        $pdf->loadView('reportes.ventas', compact('datos', $datos));\r\n        return $pdf->stream();\r\n    }\r\n}\n"})}),"\n",(0,s.jsx)(r.h3,{id:"paso-5-en-la-vista-previa",children:"PASO 5: EN LA VISTA PREVIA"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-html",children:'<h1>ESTO ES LA VISTA EN PDF </h1>\r\n@foreach ($datos as $item)\r\n    <tr>\r\n        <td>{{$item->cliente}} </td>                                    \r\n    </tr>\r\n@endforeach\r\n\r\n<div style="page-break-after: always;"></div>\x3c!-- ESTO ES UN SALTO PAGINA --\x3e\r\n\r\n<h1>ESTO ES LA VISTA EN PDF </h1>\r\n<table>\r\n</table>\n'})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"\ufe0f-imprimir",children:["\ud83d\udda8\ufe0f ",(0,s.jsx)(r.strong,{children:"IMPRIMIR"})]}),"\n",(0,s.jsx)(r.p,{children:"Si deseas imprimir un valor en tu aplicaci\xf3n Laravel:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-html",children:"<h1>{ $mensaje }</h1>\r\n\x3c!-- Vue.js agrega el @ --\x3e\r\n<h1>@{{ mensaje }}</h1>\n"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-c\xf3mo-crear-un-dominio-local",children:["\ud83c\udf10 ",(0,s.jsx)(r.strong,{children:"C\xd3MO CREAR UN DOMINIO LOCAL"})]}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:["En el archivo ",(0,s.jsx)(r.strong,{children:"C:\\Windows\\System32\\drivers\\etc\\hosts"}),", agrega lo siguiente:"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-plaintext",children:"127.0.0.1    ejemplo.pe\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:["En el archivo ",(0,s.jsx)(r.strong,{children:"C:\\XAMPP\\apache\\conf\\extra\\httpd-vhosts.conf"}),", agrega lo siguiente:"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-plaintext",children:'<VirtualHost *:8080>\r\n    DocumentRoot "C:\\xampp\\htdocs\\PROYECTOS-LARAVEL\\computacion\\public"\r\n    ServerName ejemplo.pe\r\n    <Directory "C:\\xampp\\htdocs\\PROYECTOS-LARAVEL\\computacion\\public">\r\n        Options All\r\n        AllowOverride All\r\n        Require all granted\r\n    </Directory>\r\n</VirtualHost>\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Reinicia el servidor Apache"})," para que los cambios tengan efecto."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h2,{id:"-crear-un-proyecto",children:"\ud83d\ude80 CREAR UN PROYECTO"}),"\n",(0,s.jsx)(r.h3,{id:"crear-un-nuevo-proyecto-laravel",children:"Crear un nuevo proyecto Laravel"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"laravel new blog  // M\xe9todo 1 (Debes tener instalado Laravel)\r\ncomposer create-project --prefer-dist laravel/laravel:^7.0 blog  // M\xe9todo 2 (V\xeda Composer)\n"})}),"\n",(0,s.jsx)(r.h3,{id:"configurar-el-proyecto-para-el-desarrollo",children:"Configurar el proyecto para el desarrollo"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"debug = TRUE\r\n'timezone' => 'America/Lima'\r\n'timezone' => 'locale' => 'es'\r\n[Descargar idioma espa\xf1ol](https://github.com/Laraveles/spanish/tree/master/resources/lang)\r\nCOPIAR EL IDIOMA EN: \\resources\\lang\\\n"})}),"\n",(0,s.jsx)(r.h3,{id:"instalar-bootstrap",children:"Instalar Bootstrap"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"composer require laravel/ui\r\nphp artisan ui bootstrap  # Sin autentificaci\xf3n\r\nphp artisan ui bootstrap --auth  # Con autentificaci\xf3n\r\nnpm install\r\nnpm run dev\r\n# Ojo: el servidor debe estar apagado\r\n# Se ejecuta Laravel Mix\n"})}),"\n",(0,s.jsx)(r.h3,{id:"correr-el-servidor",children:"Correr el servidor"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan serve\n"})}),"\n",(0,s.jsx)(r.h3,{id:"extensiones-recomendadas-para-visual-studio-code",children:"Extensiones recomendadas para Visual Studio Code"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"Ayu\r\nHTML Tag Wrapper\r\nIntelliSense for CSS class names in HTML\r\nLaravel Blade\r\nLaravel Blade Formatter\r\nLaravel Blade Snippets\r\nLaravel Snippets\r\nLive Server\r\nOpen in Browser\r\nPHP Intelephense\r\nPHP IntelliSense\r\nPrettier-Code Formatter\r\npx to rem\n"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-crear-un-proyecto-con-infyom",children:["\ud83d\udcca ",(0,s.jsx)(r.strong,{children:"CREAR UN PROYECTO CON INFYOM"})]}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Descargar la plantilla"}),":\r\n",(0,s.jsx)(r.a,{href:"https://github.com/InfyOmLabs/adminlte-generator/",children:"Descargar plantilla desde GitHub"})]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Configuraciones en la plantilla"}),":"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"# Copiar el archivo .envconf y renombrar como .env\r\ncomposer update\r\nphp artisan key:generate\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"CRUD Autom\xe1tico"}),":"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan migrate  # Opcional\r\nphp artisan infyom:scaffold Producto --fromTable --tableName=producto\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"En el modelo"}),":"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"<?php\r\n//use SoftDeletes;\r\nprotected $table = \"usuario\";\r\nprotected $primaryKey = 'id_usuario';\r\npublic $timestamps = false;\r\n?>\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"En las vistas"}),":"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"Edit.blade.php  # Modificar el campo id\r\nTable.blade.php # Modificar el campo id\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-modelos",children:["\ud83d\udcdd ",(0,s.jsx)(r.strong,{children:"MODELOS"})]}),"\n",(0,s.jsx)(r.p,{children:"Los modelos se utilizan para interactuar con nuestra base de datos. De esta manera podemos hacer cualquier clase de consulta a nuestra base de datos, por ejemplo: insertar, borrar, modificar y mostrar datos."}),"\n",(0,s.jsxs)(r.p,{children:["Los modelos se encuentran en ",(0,s.jsx)(r.code,{children:"app/Models"}),"."]}),"\n",(0,s.jsx)(r.h3,{id:"crear-un-modelo",children:"Crear un modelo"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:model Usuario\n"})}),"\n",(0,s.jsx)(r.h3,{id:"configurar-el-modelo",children:"Configurar el modelo"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"<?php\r\npublic $table = \"usuario\";\r\npublic $primaryKey = \"id_usuario\";\r\npublic $timestamps = false;\r\nprotected $fillable = [\r\n    'nombre',\r\n    'apellido',\r\n    'password',\r\n    'correo',\r\n];\r\n?>\n"})}),"\n",(0,s.jsxs)(r.h2,{id:"\ufe0f-vistas",children:["\ud83d\udc41\ufe0f ",(0,s.jsx)(r.strong,{children:"VISTAS"})]}),"\n",(0,s.jsxs)(r.p,{children:["Las vistas son la parte p\xfablica que se van a mostrar. Las vistas deben tener un formato ",(0,s.jsx)(r.code,{children:".php"})," o ",(0,s.jsx)(r.code,{children:".blade.php"}),"."]}),"\n",(0,s.jsxs)(r.p,{children:["Las vistas se encuentran en ",(0,s.jsx)(r.code,{children:"resources/views"}),"."]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-controladores",children:["\ud83c\udfae ",(0,s.jsx)(r.strong,{children:"CONTROLADORES"})]}),"\n",(0,s.jsx)(r.p,{children:"Los controladores son un mecanismo que nos permite agrupar la l\xf3gica de peticiones HTTP relacionadas y de esta forma organizar mejor nuestro c\xf3digo."}),"\n",(0,s.jsxs)(r.p,{children:["Los controladores se encuentran en ",(0,s.jsx)(r.code,{children:"app/Http/Controllers"}),"."]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:controller UsuarioController\r\nphp artisan make:controller UsuarioController -r  # Con m\xe9todos resource\n"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-request",children:["\ud83d\udccb ",(0,s.jsx)(r.strong,{children:"REQUEST"})]}),"\n",(0,s.jsx)(r.p,{children:"Los request en Laravel se utilizan para poder validar los campos del formulario."}),"\n",(0,s.jsxs)(r.p,{children:["Los request se encuentran en ",(0,s.jsx)(r.code,{children:"app/Http/Requests"}),"."]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:request UsuarioCrearRequest\n"})}),"\n",(0,s.jsx)(r.h3,{id:"el-m\xe9todo-en-el-controlador",children:"El m\xe9todo en el controlador"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"<?php\r\npublic function store(RegistrarUsuarioRequest $request)\r\n{                                            \r\n}\r\n?>\n"})}),"\n",(0,s.jsx)(r.h3,{id:"request-en-el-mismo-controlador",children:"Request en el mismo controlador"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"<?php\r\n$request->validate([\r\n    'title' => 'required',\r\n    'content' => 'required',\r\n]);\r\n?>\n"})}),"\n",(0,s.jsx)(r.h3,{id:"configuraci\xf3n-del-request",children:"Configuraci\xf3n del Request"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"<?php\r\npublic function authorize()\r\n{\r\n    return true;\r\n}\r\n?>\n"})}),"\n",(0,s.jsx)(r.h3,{id:"m\xe9todos-en-request",children:"M\xe9todos en Request"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function rules()\r\n{\r\n    return [\r\n        'nombre' => 'required',\r\n        'foto'=>'image:jpg'\r\n    ];\r\n}\r\n\r\npublic function attributes()\r\n{\r\n    return [\r\n        'nombre'=>'nombre completo'\r\n    ];\r\n}\r\n\r\npublic function messages()\r\n{\r\n    return [\r\n        'nombre.required' => 'nombre del producto',\r\n        'proveedor.required' => 'proveedor',\r\n    ];\r\n}\n"})}),"\n",(0,s.jsx)(r.h3,{id:"validaciones-de-formularios",children:"Validaciones de formularios"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'1-> required    // requerido\r\n2-> max:10      // m\xe1ximo 10 caracteres\r\n3-> min:2       // m\xednimo 2 caracteres\r\n4-> accepted    // aceptado\r\n5-> date        // fecha\r\n6-> file        // archivos\r\n7-> email       // correo\r\n8-> alpha       // solo letras\r\n9-> alpha_dash  // letras y n\xfameros, guiones y guiones bajos\r\n10-> alpha_num  // letras y n\xfameros\r\n11-> numeric    // solo n\xfamero y decimales\r\n11.1-> numeric|gt:0  // n\xfameros mayor a CERO > 0\r\n12-> digits:2   // n\xfamero de 2 d\xedgitos\r\n13-> digits_between:2,5     // n\xfamero entre 2 y 5 d\xedgitos\r\n14-> email:rfc,dns  // correo v\xe1lido\r\n15-> ends_with:com,isai     // el campo debe terminar en "com" o en "isai"\r\n16-> image      // imagen (jpeg, png, bmp, gif, svg, webp)\r\n17-> integer    // n\xfamero entero\r\n18-> size       // debe ser de 10 caracteres\r\n19-> string     // cadena de cualquier car\xe1cter\r\n20-> exists     // App\\Models\\producto,nombre  # INGRESAR SOLO VALORES QUE EST\xc9N REGISTRADOS EN LA BD DEL CAMPO NOMBRE\r\n21-> unique     // App\\Models\\producto,correo  # INGRESAR SOLO VALORES \xdaNICOS\r\n22-> mimes:jpg,png  // el archivo debe ser tipo "jpg" o "png"\r\n23-> starts_with:A-,COM     // el campo debe comenzar con "A-" o "COM"\n'})}),"\n",(0,s.jsx)(r.h3,{id:"mostrar-errores-de-validaci\xf3n",children:"Mostrar errores de validaci\xf3n"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-html",children:'<input type="text" name="title" id="title">\r\n@error(\'title\')\r\n    <p class="error-message">{{ $message }}</p>\r\n@enderror\n'})}),"\n",(0,s.jsx)(r.h3,{id:"conservar-valores-anteriores-en-caso-de-error",children:"Conservar valores anteriores en caso de error"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-html",children:'<form>\r\n    <input name="title" value="{{ old(\'title\') }}">\r\n    <textarea name="content">{{ old(\'content\',$valor) }}</textarea>  \x3c!-- es utilizado en una actualizaci\xf3n --\x3e\r\n    <select class="input input__select" name="tipo">\r\n        <option value="">Seleccionar tipo de usuario...</option>\r\n        @foreach ($sql as $item)\r\n        <option {{old(\'tipo\') == $item->id_tipo ? \'selected\' : \'\'}} value="{{$item->id_tipo}}">{{$item->tipo}}</option>\r\n        @endforeach\r\n    </select>\r\n</form>\n'})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-rules",children:["\ud83d\udccf ",(0,s.jsx)(r.strong,{children:"RULES"})]}),"\n",(0,s.jsx)(r.p,{children:"Los rules en Laravel se utilizan para poder personalizar las validaciones REQUEST."}),"\n",(0,s.jsxs)(r.p,{children:["Los rules se encuentran en ",(0,s.jsx)(r.code,{children:"app/Rules"}),"."]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:rule usuario/registrar/duplicidadUsuario\n"})}),"\n",(0,s.jsx)(r.h3,{id:"el-m\xe9todo-en-rule",children:"El m\xe9todo en Rule"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"<?php\r\npublic function passes($attribute, $value)\r\n{\r\n    /* validando duplicidad de usuario */\r\n    $valUsuario = DB::select(\"select count(*) as total from usuario where usuario=? and estado=1\", [\r\n        $value\r\n    ]);\r\n    if ($valUsuario[0]->total > 0) {\r\n        return false;\r\n    }else{\r\n        return true;\r\n    }\r\n}\r\n\r\npublic function message()\r\n{\r\n    return 'Este usuario ya existe';\r\n}\r\n?>\n"})}),"\n",(0,s.jsx)(r.h3,{id:"modificar-esto-en-el-request",children:"Modificar esto en el Request"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<?php\r\nuse App\\Rules\\usuario\\registrar\\duplicidadUsuario;\r\n\r\npublic function rules()\r\n{\r\n    return [\r\n        "tipo" => "required",\r\n        "usuario" => ["required","alpha_num",new duplicidadUsuario()],\r\n    ];\r\n}\r\n?>\n'})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-rules-con-par\xe1metros",children:["\ud83d\udccf ",(0,s.jsx)(r.strong,{children:"RULES CON PAR\xc1METROS"})]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan make:rule usuario/registrar/duplicidadUsuario\n"})}),"\n",(0,s.jsx)(r.h3,{id:"modificar-esto-en-el-request-1",children:"Modificar esto en el Request"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<?php\r\nuse App\\Rules\\usuario\\registrar\\duplicidadUsuario;\r\n\r\npublic function rules()\r\n{\r\n    return [\r\n        "tipo" => "required",\r\n        "usuario" => ["required","alpha_num",new verificarUsuario(request()->id,request()->usuario)],\r\n    ];\r\n}\r\n?>\n'})}),"\n",(0,s.jsx)(r.h3,{id:"el-m\xe9todo-en-rule-con-par\xe1metros",children:"El m\xe9todo en Rule con par\xe1metros"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<?php\r\npublic function __construct($id = 0, $usuario="")\r\n{\r\n    $this->id = $id;\r\n    $this->usuario=$usuario;\r\n}\r\n\r\npublic function passes($attribute, $value)\r\n{\r\n    $verificarUsuario = DB::select("select count(*) as total from usuario where usuario=? and id_usuario!=? and estado=1", [\r\n        $value,\r\n        $this->id\r\n    ]);\r\n    if ($verificarUsuario[0]->total > 0) {\r\n        return false;\r\n    } else {\r\n        return true;\r\n    }\r\n}\r\n\r\npublic function message()\r\n{\r\n    return "El usuario $this->usuario ya existe.";\r\n}\r\n?>\n'})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"\ufe0f-routes",children:["\ud83d\udee3\ufe0f ",(0,s.jsx)(r.strong,{children:"ROUTES"})]}),"\n",(0,s.jsx)(r.p,{children:"Los Routes o Rutas son un sistema que se encargan de manejar el flujo de solicitudes y respuestas, desde y hacia el cliente."}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<?php\r\n// GET-POST-PUT-DELETE-PATCH\r\nRoute::get(\'curso-de-php\',[PhpController::class,\'index\'])->name(\'php.index\')->middleware(\'verified\');\r\nRoute::get(\'curso-de-php-{id}\',[PhpController::class,\'index\'])->name(\'php.index\')->middleware(\'verified\');\r\n\r\n/* Comandos para ver la lista de Rutas creadas */\r\nphp artisan route:list                  // muestra la lista general de rutas creadas\r\nphp artisan route:list -v               // muestra las rutas creadas y el Middleware que se encarga de proteger\r\nphp artisan route:list --path=posts     // muestra solo las rutas que tiene la URI "posts"\r\nphp artisan route:list --except-vendor  // muestra solo las rutas creadas por el usuario(programador)\r\nphp artisan route:list --only-vendor    // muestra solo las rutas creadas por el propio sistema\r\n\r\n// Ruta con par\xe1metros opcionales\r\nRoute::get("/curso-{curso?}", function($curso="vacio"){\r\n    return "Bienvenido al Curso $curso";\r\n});\r\n\r\n// Ruta con expresiones regulares\r\nRoute::get("/suma/{a}/{b}", function ($a, $b) {\r\n    return "La suma es: " . $a + $b;\r\n})->where(["a" => "[0-9]+", "b" => "[0-9]+"]);\r\n\r\n// Tambi\xe9n se puede usar \r\n//->whereAlpha(["a", "b"]); acepta solo letras\r\n//->whereNumber(["a", "b"]); acepta solo n\xfameros\r\n//->whereAlphaNumeric(["a", "b"]); acepta letras y n\xfameros\r\n\r\n/* Expresiones regulares GLOBALES\r\ndentro de app/Providers/RouteServiceProvider */\r\npublic function boot()\r\n{\r\n    Route::pattern("id","[0-9]+");\r\n    Route::pattern("id2","[0-9]+");\r\n}\r\n?>\n'})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-middleware-personalizado",children:["\ud83d\udd12 ",(0,s.jsx)(r.strong,{children:"MIDDLEWARE PERSONALIZADO"})]}),"\n",(0,s.jsx)(r.p,{children:"Los Middleware nos van a ser \xfatiles para validar las rutas (tener un control de ROLES Y PERMISOS)."}),"\n",(0,s.jsx)(r.h3,{id:"c\xf3mo-crear-un-nuevo-middleware",children:"C\xf3mo crear un nuevo Middleware"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"<?php\r\nphp artisan make:middleware ClienteMiddleware\r\n?>\n"})}),"\n",(0,s.jsx)(r.h3,{id:"configurar-la-ruta",children:"Configurar la ruta"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"<?php                                    \r\nRoute::resource(\"pagos\", PagoController::class)->middleware(['verified', 'cliente']);\r\n?>\n"})}),"\n",(0,s.jsx)(r.h3,{id:"configurar-kernelphp-en-apphttpkernelphp",children:"Configurar Kernel.php en app/http/kernel.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"<?php                                    \r\n'cliente' => \\App\\Http\\Middleware\\ClienteMiddleware::class,\r\n\r\n// AS\xcd TIENE QUE VER\r\nprotected $routeMiddleware = [\r\n    'auth' => \\App\\Http\\Middleware\\Authenticate::class,\r\n    'auth.basic' => \\Illuminate\\Auth\\Middleware\\AuthenticateWithBasicAuth::class,\r\n    'cache.headers' => \\Illuminate\\Http\\Middleware\\SetCacheHeaders::class,\r\n    'can' => \\Illuminate\\Auth\\Middleware\\Authorize::class,\r\n    'guest' => \\App\\Http\\Middleware\\RedirectIfAuthenticated::class,\r\n    'password.confirm' => \\Illuminate\\Auth\\Middleware\\RequirePassword::class,\r\n    'signed' => \\Illuminate\\Routing\\Middleware\\ValidateSignature::class,\r\n    'throttle' => \\Illuminate\\Routing\\Middleware\\ThrottleRequests::class,\r\n    'verified' => \\Illuminate\\Auth\\Middleware\\EnsureEmailIsVerified::class,\r\n    'cliente' => \\App\\Http\\Middleware\\ClienteMiddleware::class,\r\n];\r\n?>\n"})}),"\n",(0,s.jsx)(r.h3,{id:"configurar-el-middleware",children:"Configurar el Middleware"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"<?php                                    \r\npublic function handle(Request $request, Closure $next)\r\n{\r\n    if ($request->user()->tipo_usuario == 'administrador') {\r\n        return $next($request);\r\n    }\r\n    if ($request->user()->tipo_usuario == 'cliente') {\r\n        return redirect()->route(\"homeCliente\");\r\n    }\r\n    return redirect()->route(\"home\");\r\n}\r\n?>\n"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-expresiones-regulares",children:["\ud83d\udd0d ",(0,s.jsx)(r.strong,{children:"EXPRESIONES REGULARES"})]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<?php\r\nusuario: "^[a-zA-Z0-9\\_\\-]{4,16}$", // Letras, n\xfameros, guion y guion_bajo\r\nnombre: "^[a-zA-Z\xc0-\xff\\s]{1,40}$", // Letras y espacios, pueden llevar acentos.\r\npassword: "^.{4,12}$", // 4 a 12 d\xedgitos.\r\ncorreo: "^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$",\r\ntelefono: "^\\d{7,14}$" // 7 a 14 n\xfameros.\r\n\r\n// Coincidencias B\xe1sicas\r\n.       - Cualquier Car\xe1cter, excepto nueva l\xednea\r\n\\d      - Cualquier D\xedgito (0-9)\r\n\\D      - No es un D\xedgito (0-9)\r\n\\w      - Car\xe1cter de Palabra (a-z, A-Z, 0-9, _)\r\n\\W      - No es un Car\xe1cter de Palabra.\r\n\\s      - Espacios de cualquier tipo. (espacio, tab, nueva l\xednea)\r\n\\S      - No es un Espacio, Tab o nueva l\xednea.\r\n\r\n// L\xedmites\r\n\\b      - L\xedmite de Palabra\r\n\\B      - No es un L\xedmite de Palabra\r\n^       - Inicio de una cadena de texto\r\n$       - Final de una cadena de texto\r\n\r\n// Cuantificadores:\r\n*       - 0 o M\xe1s\r\n+       - 1 o M\xe1s\r\n?       - 0 o Uno\r\n{3}     - N\xfamero Exacto\r\n{3,4}   - Rango de N\xfameros (M\xednimo, M\xe1ximo)\r\n\r\n// Conjuntos de Caracteres\r\n[]      - Caracteres dentro de los brackets\r\n[^ ]    - Caracteres que NO EST\xc1N dentro de los brackets\r\n\r\n// Grupos\r\n( )     - Grupo\r\n|       - Uno u otro\r\n?>\n'})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"\ufe0f-m\xe9todos",children:["\ud83d\udee0\ufe0f ",(0,s.jsx)(r.strong,{children:"M\xc9TODOS"})]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"<?php\r\n// M\xc9TODOS DE ENV\xcdO\r\nGET -> INDEX-CREATE-SHOW-EDIT\r\nPOST -> STORE\r\nPUT o PATCH -> UPDATE\r\nDELETE -> DESTROY\r\n\r\nINDEX   // PARA MOSTRAR LA P\xc1GINA DE INICIO \"TABLA\"\r\nCREATE  // PARA MOSTRAR LA P\xc1GINA DE CREAR UN PRODUCTO\r\nSTORE   // PARA EJECUTAR EL PROCESO DE INSERTAR PRODUCTO\r\nSHOW    // PARA MOSTRAR LA P\xc1GINA DE VER DETALLES DEL PRODUCTO\r\nEDIT    // PARA MOSTRAR LA P\xc1GINA DE EDICI\xd3N DEL PRODUCTO\r\nUPDATE  // PARA EJECUTAR EL PROCESO DE ACTUALIZAR PRODUCTO\r\nDESTROY // PARA EJECUTAR EL PROCESO DE ELIMINAR PRODUCTO\r\n\r\npublic function index($id){\r\n    return view('php.inicio');\r\n}\r\n?>\n"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-c\xf3mo-funciona-blade",children:["\ud83d\udd2a ",(0,s.jsx)(r.strong,{children:"C\xd3MO FUNCIONA BLADE"})]}),"\n",(0,s.jsx)(r.p,{children:"Blade es una herramienta que nos brinda Laravel a la hora de crear interfaces de usuario. Con Blade creamos una interfaz (componente o layouts) y podemos utilizarla desde otra p\xe1gina."}),"\n",(0,s.jsx)(r.h3,{id:"plantilla-blade",children:"Plantilla Blade"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-html",children:"<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>                            \r\n    <title>@yield('titulo')</title>\r\n</head>\r\n<body>\r\n    <header>...</header>\r\n    <section class=\"content\">\r\n        @yield('contenido')\r\n    </section>\r\n    <footer>...</footer>\r\n</body>\r\n</html>\n"})}),"\n",(0,s.jsx)(r.h3,{id:"c\xf3mo-llamar-y-utilizar-una-plantilla-blade",children:"C\xf3mo llamar y utilizar una plantilla Blade"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"@extends('layouts/app') // INSTANCIANDO PARA UTILIZAR\r\n@section('titulo', 'Curso Laravel')\r\n@section('contenido')\r\n    # aqu\xed va el contenido\r\n@endsection\n"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-factory",children:["\ud83c\udfed ",(0,s.jsx)(r.strong,{children:"FACTORY"})]}),"\n",(0,s.jsx)(r.p,{children:"Los factory son un modelo que nos proporciona Laravel para poder ingresar (registrar) datos de prueba en nuestra base de datos."}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"php artisan migrate     # REALIZAMOS LA MIGRACI\xd3N\r\nphp artisan tinker      # INICIAMOS TINKER\r\n>>> User::factory(20)->create()     # REGISTRAMOS 20 DATOS EN LA TABLA MODELO User\n"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-compartir-datos-entre-vistas",children:["\ud83d\udd04 ",(0,s.jsx)(r.strong,{children:"COMPARTIR DATOS ENTRE VISTAS"})]}),"\n",(0,s.jsxs)(r.p,{children:["Nos ubicamos en ",(0,s.jsx)(r.code,{children:"App\\Providers\\AppServiceProvider"}),":"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"use Illuminate\\Support\\Facades\\View; // ES IMPORTANTE IMPORTAR ESTO\r\npublic function boot()\r\n{\r\n    $compartido = \"Hola mundo\";\r\n    View::share('compartido', $compartido);\r\n    // try {\r\n    //     $sql = DB::select('select * from empresa');\r\n    //     foreach ($sql as $value) {\r\n    //         View::share('empresa', $value->nombre);\r\n    //     }\r\n    // } catch (\\Throwable $th) {\r\n    //     //throw $th;\r\n    // }\r\n\r\n    $usuario=DB::select(\" select count(*) as 'total' from usuario where estado=1 \");\r\n    View::share('usuario', $usuario[0]->total);\r\n\r\n    $usuario=DB::select(\" select count(*) as 'total' from cliente \");\r\n    View::share('cliente', $usuario[0]->total);\r\n}\n"})}),"\n",(0,s.jsx)(r.h3,{id:"en-la-vista",children:"En la vista"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-html",children:'<h4 class="nombre-curso">{{$compartido}}</h4>\n'})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-personalizar-login",children:["\ud83d\udd10 ",(0,s.jsx)(r.strong,{children:"PERSONALIZAR LOGIN"})]}),"\n",(0,s.jsx)(r.h3,{id:"cambiar-tabla-del-login",children:"Cambiar tabla del login"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsx)(r.li,{children:"Crear un nuevo modelo"}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.code,{children:"php artisan make:model Usuario"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.strong,{children:"Por recomendaci\xf3n es importante poner el campo USER Y PASSWORD en la tabla"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.strong,{children:'POR OBLIGACI\xd3N LA TABLA DEBE CONTENER UN CAMPO "PASSWORD"'})}),"\n",(0,s.jsxs)(r.li,{children:["Tenga mucho cuidado en el nuevo modelo class Usuario ",(0,s.jsx)(r.strong,{children:'"extends Authenticatable"'})]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"en-el-modelo",children:"En el modelo"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"<?php\r\nnamespace App\\Models;\r\n\r\nuse Illuminate\\Database\\Eloquent\\Factories\\HasFactory;\r\nuse Illuminate\\Foundation\\Auth\\User as Authenticatable;\r\n\r\nclass Usuario extends Authenticatable\r\n{\r\n    use HasFactory;\r\n\r\n    public $table = \"usuario\";\r\n    public $primaryKey = \"id_usuario\";\r\n    //public $timestamps=false;\r\n    protected $fillable = [\r\n        'usuario', 'clave', 'nombre', 'apellido'\r\n    ];\r\n}\r\n?>\n"})}),"\n",(0,s.jsx)(r.h3,{id:"creando-un-nuevo-modelo-para-login",children:"Creando un nuevo modelo para login"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"<?php\r\nnamespace App\\models;\r\nuse Illuminate\\Database\\Eloquent\\Model;\r\nuse Illuminate\\Foundation\\Auth\\User as Authenticatable;\r\nuse Illuminate\\Notifications\\Notifiable;\r\n\r\nclass Usuario extends Authenticatable\r\n{\r\n    use Notifiable;\r\n    protected $table = 'usuario';\r\n    protected $primaryKey = 'id';\r\n    public $timestamps = false;\r\n    protected $fillable = [\r\n        'dni',\r\n        'name',\r\n        'apellido',\r\n        'email',\r\n        'password',\r\n        'tipo',\r\n        'telefono',\r\n        'grado',\r\n        'direccion',\r\n        'estado',\r\n        'foto',\r\n    ];\r\n}\r\n?>\n"})}),"\n",(0,s.jsx)(r.h3,{id:"cambiar-modelo-en-configauthphp",children:"Cambiar modelo en config/auth.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"'providers' => [\r\n    'users' => [\r\n        'driver' => 'eloquent',\r\n        'model' => App\\Models\\Usuario::class,\r\n    ],\r\n\r\n    // 'users' => [\r\n    //     'driver' => 'database',\r\n    //     'table' => 'users',\r\n    // ],\r\n],\n"})}),"\n",(0,s.jsx)(r.h3,{id:"cambiar-a-md5-laravel-en-vendorlaravelframeworksrcilluminateautheloquentuserproviderphp",children:"Cambiar a MD5 Laravel en vendor\\laravel\\framework\\src\\Illuminate\\Auth\\EloquentUserProvider.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function validateCredentials(UserContract $user, array $credentials)\r\n{\r\n    $plain = $credentials['password'];\r\n    if (md5($plain) == $user->getAuthPassword()) {\r\n        return true;\r\n    } else {\r\n        return false;\r\n    }\r\n    //return $this->hasher->check($plain, $user->getAuthPassword());\r\n}\n"})}),"\n",(0,s.jsx)(r.h3,{id:"agregamos-lo-siguiente-en-apphttpcontrollersauthlogincontroller",children:"Agregamos lo siguiente en app/Http/Controllers/Auth/LoginController"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function username(){\r\n    return 'usuario'; // Este es el nombre del campo de la tabla\r\n}\r\n\r\n// PARA VALIDAR INPUTS DEL LOGIN\r\nuse Illuminate\\Http\\Request;\r\nprotected function validateLogin(Request $request)\r\n{\r\n    $request->validate([\r\n        $this->username() => 'required',\r\n        'password' => 'required',\r\n        'tipo' => 'required',\r\n    ]);\r\n}\n"})}),"\n",(0,s.jsx)(r.h3,{id:"cambiamos-el-name-de-la-vista-login",children:"Cambiamos el name de la vista login"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-html",children:"// Cambiar el IDIOMA\r\n<form action=\"{{ route('login') }}\" method=\"POST\">\r\n    @csrf\r\n\r\n    <input name=\"usuario\" value=\"{{ old('usuario') }}\">\r\n    <input name=\"password\" value=\"{{ old('password') }}\">\r\n        \r\n    @error('usuario')\r\n        <small>{{ $errors->first('usuario') }}</small><br>\r\n    @enderror\r\n    @error('password')\r\n        <small>{{ $errors->first('password') }}</small>\r\n    @enderror\r\n\r\n    <button type=\"submit\">Ingresar</button>\r\n</form>\n"})}),"\n",(0,s.jsx)(r.h3,{id:"mensaje-de-error-y-bot\xf3n-entrar",children:"Mensaje de error y bot\xf3n entrar"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-html",children:'// MENSAJE DE ERROR\r\n@error(\'usuario\')\r\n<div class="alert alert-danger alert-dismissible fade show mb-1" role="alert">\r\n    <small>{{ $errors->first(\'usuario\') }}</small>\r\n    <button type="button" class="close" data-dismiss="alert" aria-label="Close">\r\n        <span aria-hidden="true">&times;</span>\r\n    </button>\r\n</div>\r\n@enderror\r\n\r\n@if (session(\'mensaje\'))\r\n<div class="alert alert-warning alert-dismissible fade show mb-0" role="alert">\r\n    <small>{{ session(\'mensaje\') }}</small>\r\n    <button type="button" class="close" data-dismiss="alert" aria-label="Close">\r\n        <span aria-hidden="true">&times;</span>\r\n    </button>\r\n</div>\r\n@endif\r\n\r\n// BOT\xd3N DE INICIAR SESI\xd3N\r\n<form method="POST" action="{{ route(\'login\') }}">\r\n</form>\r\n\r\n// BOT\xd3N DE CERRAR SESI\xd3N\r\n<div class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">\r\n    <a class="dropdown-item" href="{{ route(\'logout\') }}"\r\n        onclick="event.preventDefault();\r\n                    document.getElementById(\'logout-form\').submit();">\r\n        {{ __(\'Logout\') }}\r\n    </a>\r\n\r\n    <form id="logout-form" action="{{ route(\'logout\') }}" method="POST" class="d-none">\r\n        @csrf\r\n    </form>\r\n</div>\n'})}),"\n",(0,s.jsx)(r.h3,{id:"borrar-verificaci\xf3n-de-email-en-routeswebphp",children:"Borrar verificaci\xf3n de email en routes/web.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"Auth::routes(['verify' => true]);\n"})}),"\n",(0,s.jsx)(r.h3,{id:"comentar-en-controllerverificationcontroller",children:"Comentar en controller/VerificationController"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"//use VerifiesEmails;\n"})}),"\n",(0,s.jsx)(r.h3,{id:"corregir-en-vendorlaravelframeworksrcilluminateroutingcontrollerphp",children:"Corregir en vendor/laravel/framework/src/illuminate/routing/controller.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function __call($method, $parameters)\r\n{\r\n    // throw new BadMethodCallException(sprintf(\r\n    //     'Method %s::%s does not exist.', static::class, $method\r\n    // ));\r\n    return redirect()->route('home');\r\n}\n"})}),"\n",(0,s.jsx)(r.h3,{id:"resolver-restricciones-de-consultas-sql",children:"Resolver restricciones de consultas SQL"}),"\n",(0,s.jsx)(r.p,{children:"En config/database.php:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"strict => false // L\xcdNEA 59\n"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-login-con-varias-tablas",children:["\ud83d\udd11 ",(0,s.jsx)(r.strong,{children:"LOGIN CON VARIAS TABLAS"})]}),"\n",(0,s.jsx)(r.h3,{id:"paso-1-enviar-datos-de-la-bd-a-la-vista-login",children:"Paso 1: Enviar datos de la BD a la vista Login"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"// app/Http/Controllers/Auth/LoginController.php\r\npublic function showLoginForm()\r\n{\r\n    $data = TipoUsuario::all();\r\n    return view('auth.login', compact(\"data\"));\r\n}\n"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"\ufe0f-error-acceso-denegado-forge",children:["\u26a0\ufe0f ",(0,s.jsx)(r.strong,{children:"ERROR ACCESO DENEGADO 'FORGE'"})]}),"\n",(0,s.jsxs)(r.p,{children:["Aseg\xfarese de que en ",(0,s.jsx)(r.code,{children:"config/database.php"})," su nombre de conexi\xf3n predeterminado sea el mismo que en su ",(0,s.jsx)(r.code,{children:".env"}),"."]}),"\n",(0,s.jsx)(r.h3,{id:"archivo-env",children:"Archivo .env"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"DB_CONNECTION=mysql\r\nDB_HOST=127.0.0.1\r\nDB_PORT=3306\r\nDB_DATABASE=sisventa\r\nDB_USERNAME=root\r\nDB_PASSWORD=\n"})}),"\n",(0,s.jsx)(r.h3,{id:"archivo-databasephp",children:"Archivo database.php"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"'mysql' => [\r\n    'driver' => 'mysql',\r\n    'url' => env('DATABASE_URL'),\r\n    'host' => env('DB_HOST', '127.0.0.1'),\r\n    'port' => env('DB_PORT', '3306'),\r\n    'database' => env('DB_DATABASE', 'sisventa'),\r\n    'username' => env('DB_USERNAME', 'root'),\r\n    'password' => env('DB_PASSWORD', ''),\r\n    'unix_socket' => env('DB_SOCKET', ''),\r\n    'charset' => 'utf8mb4',\r\n    'collation' => 'utf8mb4_unicode_ci',\r\n    'prefix' => '',\r\n    'prefix_indexes' => true,\r\n    'strict' => false,\r\n    'engine' => null,\r\n    'options' => extension_loaded('pdo_mysql') ? array_filter([\r\n        PDO::MYSQL_ATTR_SSL_CA => env('MYSQL_ATTR_SSL_CA'),\r\n    ]) : [],\r\n],\n"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-personalizar-redirecci\xf3n-login",children:["\ud83d\udeaa ",(0,s.jsx)(r.strong,{children:"PERSONALIZAR REDIRECCI\xd3N LOGIN"})]}),"\n",(0,s.jsx)(r.h3,{id:"editar-apphttpcontrollershomecontroller",children:"Editar app/Http/Controllers/HomeController"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"public function index()\r\n{\r\n    //return view('home');\r\n    $estado = Auth::user()->estado;\r\n    if ($estado == 1) {\r\n        $sql = DB::select('select count(*) as total from usuario where tipo=1');\r\n        return view('home')->with('sql', $sql);\r\n    } else {\r\n        session()->invalidate();\r\n        session()->regenerateToken();\r\n        return back()->with('mensaje', 'USUARIO SUSPENDIDO, consulte con el Administrador');\r\n    }\r\n}\r\n\r\n// Poner fecha de expiraci\xf3n en HomeController\r\n// Luego se recomienda ofuscar todo el c\xf3digo del archivo\r\npublic function index()\r\n{\r\n    $fecha = date(\"Y\");\r\n    $duracion = date(\"Y\") + 2; // Solo dura 2 a\xf1os\r\n    if ($fecha <= $duracion) {\r\n        return view('home');\r\n    } else {\r\n        session()->invalidate();\r\n        session()->regenerateToken();\r\n        return back()->with('mensaje', \"ACCESO DENEGADO, consulte con el desarrollador $duracion\");\r\n    }\r\n}\n"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-generar-gr\xe1ficos",children:["\ud83d\udcca ",(0,s.jsx)(r.strong,{children:"GENERAR GR\xc1FICOS"})]}),"\n",(0,s.jsx)(r.admonition,{title:"OJO",type:"caution",children:(0,s.jsxs)(r.p,{children:["Los saltos de l\xednea y comentarios en el script de ",(0,s.jsx)(r.strong,{children:"Chart js"})," son muy importantes"]})}),"\n",(0,s.jsx)(r.h3,{id:"cdn-para-chartjs",children:"CDN para Chart.js"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-html",children:'<script src="https://cdn.jsdelivr.net/npm/chart.js"><\/script>\n'})}),"\n",(0,s.jsx)(r.h3,{id:"html-para-el-gr\xe1fico",children:"HTML para el gr\xe1fico"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-html",children:'\x3c!-- Dentro de esta etiqueta se mostrar\xe1 nuestra Gr\xe1fica --\x3e\r\n<canvas id="grafica" height="90" width="200px"></canvas>\n'})}),"\n",(0,s.jsx)(r.h3,{id:"mostrando-datos-desde-el-controlador",children:"Mostrando datos desde el controlador"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<?php\r\n// EN EL CONTROLADOR \r\n$venta = DB::select("");\r\n$data = [0,0,0,0,0,0,0,0,0,0,0,0]; // meses\r\nforeach ($venta as $key => $value) {\r\n    $data[$value->fechaN-1] = $value->tot; // guardando los datos en cada mes correspondiente\r\n}\r\nView::share("datas", $data); // enviando los datos a la vista(GRAFICA)\r\n\r\n// EN EL CONTROLADOR OPCION 2\r\n$data = [];\r\n$data2 = [];\r\nforeach ($sql4 as $key => $value) {\r\n    array_push($data, $value->nombre);\r\n    array_push($data2, $value->tot);\r\n}\r\nreturn view("vistas/reportes_ventas/hoy", compact("sql"))\r\n    ->with("data", $data)\r\n    ->with("data2", $data2);\r\n\r\n// DECODIFICANDO EL JSON QUE VIENE DESDE EL CONTROLADOR\r\nlet datas = <?php echo json_encode($datas); ?>\r\n\r\n// EN LA VISTA-GRAFICA \r\nconst datosVentas2020 = {\r\n    data: datas,\r\n};\r\n?>\n'})}),"\n",(0,s.jsx)(r.h3,{id:"gr\xe1fico-de-l\xedneas",children:"Gr\xe1fico de l\xedneas"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-html",children:'<script>\r\n    // Obtener una referencia al elemento canvas del DOM\r\n    const $grafica = document.querySelector("#grafica");\r\n    // Las etiquetas son las que van en el eje X. \r\n    const etiquetas = ["Enero", "Febrero", "Marzo", "Abril"]\r\n    // Podemos tener varios conjuntos de datos. Comencemos con uno\r\n    const datosVentas2020 = {\r\n        label: "Ventas por mes",\r\n        data: [5000, 1500, 8000, 5102], // La data es un arreglo que debe tener la misma cantidad de valores que la cantidad de etiquetas\r\n        backgroundColor: \'rgba(54, 162, 235, 0.2)\', // Color de fondo\r\n        borderColor: \'rgba(54, 162, 235, 1)\', // Color del borde\r\n        borderWidth: 1,// Ancho del borde\r\n    };\r\n    new Chart($grafica, {\r\n        type: \'line\',// Tipo de gr\xe1fica\r\n        data: {\r\n            labels: etiquetas,\r\n            datasets: [\r\n                datosVentas2020,\r\n                // Aqu\xed m\xe1s datos...\r\n            ]\r\n        },\r\n        options: {\r\n            scales: {\r\n                yAxes: [{\r\n                    ticks: {\r\n                        beginAtZero: true\r\n                    }\r\n                }],\r\n            },\r\n        }\r\n    });\r\n<\/script>\n'})}),"\n",(0,s.jsx)(r.h3,{id:"gr\xe1fico-de-barras",children:"Gr\xe1fico de barras"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-html",children:'<script>\r\n    // Obtener una referencia al elemento canvas del DOM\r\n    const $grafica = document.querySelector("#grafica");\r\n    // Las etiquetas son las que van en el eje X. \r\n    const etiquetas = ["Enero", "Febrero", "Marzo", "Abril"]\r\n    // Podemos tener varios conjuntos de datos. Comencemos con uno\r\n    const datosVentas2020 = {\r\n        label: "Ventas por mes",\r\n        data: [5000, 1500, 8000, 5102], // La data es un arreglo que debe tener la misma cantidad de valores que la cantidad de etiquetas\r\n        backgroundColor: \'rgba(54, 162, 235, 0.2)\', // Color de fondo\r\n        borderColor: \'rgba(54, 162, 235, 1)\', // Color del borde\r\n        borderWidth: 1,// Ancho del borde\r\n    };\r\n    new Chart($grafica, {\r\n        type: \'bar\',// Tipo de gr\xe1fica\r\n        data: {\r\n            labels: etiquetas,\r\n            datasets: [\r\n                datosVentas2020,\r\n                // Aqu\xed m\xe1s datos...\r\n            ]\r\n        },\r\n        options: {\r\n            scales: {\r\n                yAxes: [{\r\n                    ticks: {\r\n                        beginAtZero: true\r\n                    }\r\n                }],\r\n            },\r\n        }\r\n    });\r\n<\/script>\n'})}),"\n",(0,s.jsx)(r.h3,{id:"gr\xe1fico-circular",children:"Gr\xe1fico circular"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-html",children:"<script>\r\n    // Obtener una referencia al elemento canvas del DOM\r\n    const $grafica = document.querySelector(\"#grafica\");\r\n    // Las etiquetas son las porciones de la gr\xe1fica\r\n    const etiquetas = [\"Ventas\", \"Donaciones\", \"Trabajos\", \"Publicidad\"]\r\n    // Podemos tener varios conjuntos de datos. Comencemos con uno\r\n    const datosIngresos = {\r\n        data: [1500, 400, 2000, 7000], // La data es un arreglo que debe tener la misma cantidad de valores que la cantidad de etiquetas\r\n        // Ahora deber\xeda haber tantos background colors como datos, es decir, para este ejemplo, 4\r\n        backgroundColor: [\r\n            'rgba(163,221,203,0.2)',\r\n            'rgba(232,233,161,0.2)',\r\n            'rgba(230,181,102,0.2)',\r\n            'rgba(229,112,126,0.2)',\r\n        ],// Color de fondo\r\n        borderColor: [\r\n            'rgba(163,221,203,1)',\r\n            'rgba(232,233,161,1)',\r\n            'rgba(230,181,102,1)',\r\n            'rgba(229,112,126,1)',\r\n        ],// Color del borde\r\n        borderWidth: 1,// Ancho del borde\r\n    };\r\n    new Chart($grafica, {\r\n        type: 'pie',// Tipo de gr\xe1fica. Puede ser dougnhut o pie\r\n        data: {\r\n            labels: etiquetas,\r\n            datasets: [\r\n                datosIngresos,\r\n                // Aqu\xed m\xe1s datos...\r\n            ]\r\n        },\r\n    });\r\n<\/script>\n"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-enviar-mails",children:["\ud83d\udce7 ",(0,s.jsx)(r.strong,{children:"ENVIAR MAILS"})]}),"\n",(0,s.jsx)(r.h3,{id:"paso-1-crear-un-proyecto",children:"Paso 1: Crear un proyecto"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"<?php\r\n    laravel new enviarEmail\r\n?>\n"})}),"\n",(0,s.jsx)(r.h3,{id:"paso-2-crear-los-controladores",children:"Paso 2: Crear los controladores"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"<?php\r\n    php artisan make:mail ContactoMailable  // Para configurar el env\xedo de email\r\n    php artisan make:controller ContactoController  \r\n?>\n"})}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"<?php\r\n    namespace App\\Mail;\r\n    use Illuminate\\Bus\\Queueable;\r\n    use Illuminate\\Mail\\Mailable;\r\n    use Illuminate\\Queue\\SerializesModels;\r\n    \r\n    class ContactoMailable extends Mailable\r\n    {\r\n        use Queueable, SerializesModels;\r\n    \r\n        public $subject = \"INFORMACION DE CONTACTO\"; // ESTO ES EL ASUNTO DEL CORREO\r\n        public $contacto; // Solo creamos para pasar variables a la vista y ENVIARLOS\r\n        /**\r\n        * Create a new message instance.\r\n        *\r\n        * @return void\r\n        */\r\n        public function __construct($contacto)\r\n        {\r\n            $this->contacto = $contacto; // ALMACENAMOS LOS DATOS QUE SE RECIBEN PARA MOSTRAR EN LA VISTA\r\n        }\r\n    \r\n        /**\r\n        * Build the message.\r\n        *\r\n        * @return $this\r\n        */\r\n        public function build()\r\n        {\r\n            /* ESTO ES LA VISTA QUE SE VA A ENVIAR AL CORREO */\r\n            return $this->view('mail.contactanos');\r\n        }\r\n    }\r\n    \r\n?>\n"})}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<?php\r\n    namespace App\\Http\\Controllers;\r\n    use App\\Mail\\ContactoMailable;\r\n    use Illuminate\\Http\\Request;\r\n    use Illuminate\\Support\\Facades\\Mail;\r\n    \r\n    class ContactoController extends Controller\r\n    {\r\n        public function index(Request $request)\r\n        {\r\n            $correo = new ContactoMailable($request->all()); // Enviamos estos datos al MAILABLE\r\n            Mail::to($request->correo)->send($correo); // CORREO DEL RECEPTOR\r\n            //return "mensaje enviado";\r\n            //return redirect()->route(\'email.index\')->with("mensaje", $request["correo"]);\r\n            return redirect()->back()->with("mensaje", $request["correo"]);\r\n        }\r\n    }\r\n                    \r\n?>\n'})}),"\n",(0,s.jsx)(r.h3,{id:"paso-3-crear-las-rutas",children:"Paso 3: Crear las rutas"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"<?php\r\n    Route::post('enviar-email', [ContactoController::class, 'index'])->name('email.index');\r\n?>\n"})}),"\n",(0,s.jsx)(r.h3,{id:"paso-4-configurar-env",children:"Paso 4: Configurar .env"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<?php\r\n    /* OJO TENGA MUCHO CUIDADO CON LOS COMENTARIOS EN EL .env */\r\n    MAIL_MAILER=smtp\r\n    MAIL_HOST=smtp.gmail.com\r\n    MAIL_PORT=587\r\n    MAIL_USERNAME=isai.sandoval1999@gmail.com // Correo del emisor\r\n    MAIL_PASSWORD=isai74433542 // Contrase\xf1a del emisor\r\n    MAIL_ENCRYPTION=TLS\r\n    MAIL_FROM_ADDRESS=isai.sandoval1999@gmail.com // Correo del emisor\r\n    MAIL_FROM_NAME="ISAI SANDOVAL" // Nombre\r\n?>\n'})}),"\n",(0,s.jsx)(r.h3,{id:"paso-4-servidor-configurar-env-en-servidor",children:"Paso 4 (Servidor): Configurar .env en Servidor"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"CONFIGURAR EN EL SERVIDOR"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Ingresar a tu CPanel"}),"\n",(0,s.jsx)(r.li,{children:"Ir a la secci\xf3n de Correo Electr\xf3nico o Cuentas de email"}),"\n",(0,s.jsx)(r.li,{children:"Selecciona uno de los Dominio y click en conectar dispositivos"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<?php\r\n    /* OJO TENGA MUCHO CUIDADO CON LOS COMENTARIOS EN EL .env */\r\n    MAIL_MAILER=smtp\r\n    MAIL_HOST=mail.huracancito.com\r\n    MAIL_PORT=587\r\n    MAIL_USERNAME=_mainaccount@huracancito.com // Este correo es del hosting\r\n    MAIL_PASSWORD=zsrb3S82R8 // Esta clave es del login al hosting\r\n    MAIL_ENCRYPTION=TLS\r\n    MAIL_FROM_ADDRESS=_mainaccount@huracancito.com // Este correo es del hosting\r\n    MAIL_FROM_NAME="ISAI SANDOVAL" // Nombre\r\n?>\n'})}),"\n",(0,s.jsx)(r.h3,{id:"paso-5-crear-las-vistas",children:"Paso 5: Crear las vistas"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Vista del formulario:"})}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-html",children:'@if (session("mensaje"))\r\n<script>\r\n    alert("se ha enviado un mensaje a {{session(\'mensaje\')}}")\r\n<\/script>\r\n@endif\r\n\r\n<form action="{{route(\'email.index\')}}" method="post">\r\n    @csrf\r\n    <div>\r\n        <input name="correo" type="email" placeholder="name@example.com">\r\n        <textarea name="mensaje" rows="3"></textarea>\r\n    </div>                                \r\n    <button type="submit">Enviar</button>\r\n</form>\n'})}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Vista previa del mensaje que se va a enviar:"})}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-html",children:"<div>\r\n    <h1>ESTE ES EL MENSAJE QUE SE VA A ENVIAR AL CORREO</h1>\r\n    <h5>puede personalizarlo como quiera</h5>\r\n    <section>\r\n        <h1>{{$contacto['mensaje']}}</h1>\r\n    </section>\r\n</div>\r\n\r\n\x3c!-- Un ejemplo --\x3e\r\n<style>\r\n    body {\r\n        font-family: Arial, sans-serif;\r\n        background-color: #f5f5f5;\r\n        text-align: center;\r\n    }\r\n    h1 {\r\n        margin-top: 50px;\r\n        margin-bottom: 20px;\r\n    }\r\n    p {\r\n        margin-bottom: 40px;\r\n    }\r\n    button {\r\n        background-color: #007bff;\r\n        color: #fff;\r\n        border: none;\r\n        padding: 10px 20px;\r\n        border-radius: 5px;\r\n        font-size: 18px;\r\n        cursor: pointer;\r\n        transition: background-color 0.3s;\r\n    }\r\n    button:hover {\r\n        background-color: #0056b3;\r\n    }\r\n    a {\r\n        color: white !important;\r\n        text-decoration: none;\r\n    }\r\n</style>\r\n</head>\r\n\r\n<body>\r\n    <h1>Restablecer contrase\xf1a</h1>\r\n    <p>Haga clic en el bot\xf3n para restablecer su contrase\xf1a:</p>\r\n    <button><a href=\"{{ route('recuperar.form', [$id_usuario, $codigo]) }}\">Restablecer contrase\xf1a</a></button>\r\n</body>\n"})}),"\n",(0,s.jsx)(r.h3,{id:"en-caso-de-error",children:"En caso de error"}),"\n",(0,s.jsx)(r.p,{children:"En config/mail.php:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"'smtp' => [\r\n    'transport' => 'smtp',\r\n    'host' => env('MAIL_HOST', 'smtp.mailgun.org'),\r\n    'port' => env('MAIL_PORT', 587),\r\n    'encryption' => env('MAIL_ENCRYPTION', 'tls'),\r\n    'username' => env('MAIL_USERNAME'),\r\n    'password' => env('MAIL_PASSWORD'),\r\n    'timeout' => null,\r\n    'auth_mode' => null,\r\n    'stream' => [\r\n        'ssl' => [\r\n            'allow_self_signed' => true,\r\n            'verify_peer' => false,\r\n            'verify_peer_name' => false,\r\n        ],\r\n    ],\r\n],\r\n\r\n// Luego ejecuta esto\r\nphp artisan config:clear\n"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-generar-qr-con-simple-qrcode",children:["\ud83d\udd0d ",(0,s.jsx)(r.strong,{children:"GENERAR QR CON SIMPLE QRCODE"})]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.a,{href:"https://www.nigmacode.com/laravel/generar-codigo-qr-laravel",children:"Gu\xeda"})}),"\n",(0,s.jsx)(r.h3,{id:"ejemplo-del-controlador-del-sistema-de-apafa",children:"Ejemplo del controlador del SISTEMA DE APAFA"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<?php\r\nuse SimpleSoftwareIO\\QrCode\\Facades\\QrCode;\r\n\r\nforeach ($datosPadreFamilia as $key => $item) {\r\n    // Generar el QR\r\n    QrCode::format(\'png\')->size(500)->generate($item->padre_dni, public_path("qr/$id_padre.png"));\r\n    // QR de historial padres\r\n    QrCode::format(\'png\')->size(500)->generate(route("historial.descargaPDF", $item->padre_dni), public_path("qr/historial/$id_padre.png"));\r\n}\r\n?>\n'})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-importar-datos-desde-excel",children:["\ud83d\udce5 ",(0,s.jsx)(r.strong,{children:"IMPORTAR DATOS DESDE EXCEL"})]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.a,{href:"https://laravel-excel.com/",children:"Laravel Excel"})," es una de las herramientas que nos proporciona Laravel para realizar exportaciones e incluso importaciones en formato EXCEL, CSV, PDF, etc."]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.a,{href:"https://docs.laravel-excel.com/3.1/getting-started/",children:"Documentaci\xf3n"})}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'// OJO: si te sale un error al instalar el "maatwebsite/excel" -> prueba con esto\r\n// 1-> ve a xampp/php/php.ini->borra el ";" de "extension=gd"\r\n// 2-> intenta ejecutar nuevamente el comando\r\n// IMPORTANTE debes crear un modelo\r\n// CONFIGURAR TU MODELO\r\ncomposer require maatwebsite/excel  // Instalamos Laravel Excel\r\n// Creando un Import para importar datos del modelo User El archivo se puede encontrar en app/Exports\r\nphp artisan make:import UsersImport --model=User\n'})}),"\n",(0,s.jsx)(r.h3,{id:"en-el-participanteimport",children:"En el ParticipanteImport"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<?php\r\n// CON PARAMETROS\r\nnamespace App\\Imports;\r\n\r\nuse App\\Models\\Participante;\r\nuse Maatwebsite\\Excel\\Concerns\\ToModel;\r\nuse Maatwebsite\\Excel\\Concerns\\WithBatchInserts;\r\nuse Maatwebsite\\Excel\\Concerns\\WithChunkReading;\r\nuse Maatwebsite\\Excel\\Concerns\\WithHeadingRow;\r\n\r\nclass ParticipanteImport implements ToModel, WithHeadingRow, WithBatchInserts, WithChunkReading\r\n{\r\n    private $idCurso;\r\n\r\n    public function __construct($curso)\r\n    {\r\n        $this->idCurso = $curso;\r\n    }\r\n\r\n    public function model(array $row)\r\n    {\r\n        // Aqu\xed todos los encabezados del excel van en MIN\xdaSCULAS (si el encabezado tiene un espacio agregar el s\xedmbolo "_" )\r\n        return new Participante([\r\n            "id_curso" => $this->idCurso,\r\n            "dni" => $row["dni_del_participante"],\r\n            "nombre" => $row["nombres_del_participante"],\r\n            "apellido" => $row["apellidos_del_participante"],\r\n            "correo" => $row["correo_del_participante"],\r\n        ]);\r\n    }\r\n\r\n    public function batchSize(): int\r\n    {\r\n        return 4000;\r\n    }\r\n\r\n    public function chunkSize(): int\r\n    {\r\n        return 4000;\r\n    }\r\n}\n'})}),"\n",(0,s.jsx)(r.h3,{id:"en-la-ruta",children:"En la ruta"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"<?php\r\n// IMPORTANTE: la ruta debe ser de tipo POST\r\nRoute::POST('importParticipante', [ParticipanteController::class, 'importParticipante'])->name('importParticipante.index');\r\n?>\n"})}),"\n",(0,s.jsx)(r.h3,{id:"en-el-controlador",children:"En el controlador"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'namespace App\\Http\\Controllers;\r\n\r\nuse App\\Exports\\ModeloParticipanteExport;\r\nuse App\\Exports\\ParticipanteExport;\r\nuse App\\Imports\\ParticipanteImport;\r\nuse Illuminate\\Http\\Request;\r\nuse Illuminate\\Support\\Facades\\DB;\r\nuse Maatwebsite\\Excel\\Facades\\Excel;\r\n\r\nclass ParticipanteController extends Controller\r\n{\r\n    public function importParticipante(Request $request)\r\n    {\r\n        $request->validate([\r\n            "dato" => "required|file|mimes:xlsx,xls,csv",\r\n            "curso" => "required"\r\n        ]);\r\n        $file = $request->file("dato"); // dato es el name\r\n        Excel::import(new ParticipanteImport($request->curso), $file);\r\n        return back()->with("CORRECTO", "Los datos se han cargado exitosamente");\r\n    }\r\n}\n'})}),"\n",(0,s.jsx)(r.h3,{id:"en-el-formulario",children:"En el formulario"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-html",children:'<form action="" enctype="multipart/form-data" method="POST">\r\n@csrf\r\n    <div class="mb-4 mt-2 col-12 d-flex justify-content-between">\r\n        <input type="file" name="dato" class="input input__text" value="{{ old(\'dato\') }}">\r\n        @error(\'dato\')\r\n            <small class="error error__text">{{ $message }}</small>\r\n        @enderror\r\n        <button type="submit" class="btn btn-primary px-5"><i class="fas fa-upload"></i> Cargar\r\n            Datos</button>\r\n    </div>\r\n</form>\n'})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-generar-excel",children:["\ud83d\udce4 ",(0,s.jsx)(r.strong,{children:"GENERAR EXCEL"})]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.a,{href:"https://laravel-excel.com/",children:"Laravel Excel"})," es una de las herramientas que nos proporciona Laravel para realizar exportaciones e incluso importaciones en formato EXCEL, CSV, PDF, etc."]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.a,{href:"https://docs.laravel-excel.com/3.1/getting-started/",children:"Documentaci\xf3n"})}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'// OJO: si te sale un error al instalar el "maatwebsite/excel" -> prueba con esto\r\n// 1-> ve a xampp/php/php.ini->borra el ";" de "extension=gd"\r\n// 2-> intenta ejecutar nuevamente el comando\r\ncomposer require maatwebsite/excel  // Instalamos Laravel Excel\r\n// Creando un Export para exportar datos del modelo User El archivo se puede encontrar en app/Exports\r\nphp artisan make:export UsersExport --model=User    \n'})}),"\n",(0,s.jsx)(r.h3,{id:"en-el-usersexport",children:"En el UsersExport"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"namespace App\\Exports;\r\n\r\nuse Illuminate\\Contracts\\View\\View;\r\nuse Illuminate\\Support\\Facades\\DB;\r\nuse Maatwebsite\\Excel\\Concerns\\FromView;\r\n\r\nclass UsersExport implements FromView\r\n{\r\n    public function view(): View {\r\n        $sql = DB::select('select *from users');\r\n        return view('datos.index', [\r\n            'usuarios' => $sql\r\n        ]);\r\n    }                            \r\n\r\n\r\n// CON PARAMETROS ENVIADOS DESDE EL CONTROLADOR\r\nclass NotasExport implements FromView\r\n{\r\n    private $anio;\r\n    \r\n    public function __construct($anio)\r\n    {\r\n        $this->anio = $anio;\r\n    }\r\n\r\n    public function view(): View {\r\n        $sql = $this->anio;\r\n        return view('exportaciones.notas', [\r\n            'sql' => $sql\r\n        ]);\r\n    }\r\n}\n"})}),"\n",(0,s.jsx)(r.h3,{id:"en-la-ruta-1",children:"En la ruta"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"Route::get('ver-excel', [UsuarioController::class, 'export'])->name('excel.index');\n"})}),"\n",(0,s.jsx)(r.h3,{id:"en-el-controlador-1",children:"En el controlador"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"namespace App\\Http\\Controllers;\r\n\r\nuse App\\Exports\\UsersExport;\r\nuse Maatwebsite\\Excel\\Facades\\Excel;\r\n\r\nclass UsuarioController extends Controller\r\n{\r\n    public function export()\r\n    {\r\n        return Excel::download(new UsersExport, 'usuarios.xlsx'); // csv\r\n    }\r\n}\n"})}),"\n",(0,s.jsx)(r.h3,{id:"en-vista-previa",children:"En vista previa"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-html",children:"<table>\r\n    <thead>\r\n        <tr>\r\n            <th>USUARIO</th>\r\n            <th>CORREO</th>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        @foreach($usuarios as $user)\r\n        <tr>\r\n            <td>{{ $user->name }}</td>\r\n            <td>{{ $user->email }}</td>\r\n        </tr>\r\n        @endforeach\r\n    </tbody>\r\n</table>\n"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-conexi\xf3n-bd",children:["\ud83d\udd0c ",(0,s.jsx)(r.strong,{children:"CONEXI\xd3N BD"})]}),"\n",(0,s.jsx)(r.h3,{id:"archivo-env-1",children:"Archivo .env"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"<?php\r\n    DB_CONNECTION=mysql\r\n    DB_HOST=127.0.0.1\r\n    DB_PORT=3306\r\n    DB_DATABASE=Nombre de la BD\r\n    DB_USERNAME=Usuario\r\n    DB_PASSWORD=Contrase\xf1a\r\n?>\n"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-consultas-sql",children:["\ud83d\udd0d ",(0,s.jsx)(r.strong,{children:"CONSULTAS SQL"})]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"<?php\r\ntry {\r\n    $sql = DB::update('update usuario set dni=?, name=?, apellido=?, email=?,telefono=?,\r\n    direccion=? where id=?', [$dni, $nombre, $apellido, $email, $telefono, $direccion, $id]);\r\n    if ($sql == 0) {\r\n        $sql = 1;\r\n    }\r\n} catch (\\Throwable $th) {\r\n}\r\nif ($sql == 1) {\r\n    return back()->with('correcto', 'Datos modificados correctamente');\r\n} else {\r\n    return back()->with('incorrecto', 'Error al modificar los datos');\r\n}\r\n?>\n"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-return",children:["\ud83d\udd19 ",(0,s.jsx)(r.strong,{children:"RETURN"})]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"<?php\r\nreturn view('ver-perfil/perfil', compact('sql'))->with('sql2', $sql2); // RETORNA UNA VISTA\r\nreturn view('notas/table')\r\n->with('sql', [])                            \r\n->with('grado', $grado)\r\n->with('anio', $anio);\r\n\r\nreturn redirect()->route('perfil.index', ['id' => 1]); // RETORNA UNA RUTA EN ESPEC\xcdFICO\r\n\r\nreturn back()->with(\"mensaje\", \"Notas eliminado Correctamente\"); // RETORNA A LA MISMA P\xc1GINA\r\n\r\nreturn response()->json(['dato' => $sql, 200]); // RETORNA UN JSON\r\n?>\n"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-ajax-en-laravel-parte-2",children:["\ud83d\udd04 ",(0,s.jsx)(r.strong,{children:"AJAX EN LARAVEL PARTE 2"})]}),"\n",(0,s.jsx)(r.h3,{id:"en-el-app",children:"En el app"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-html",children:'\x3c!--<meta name="csrf-token" content="{{ csrf_token() }}">--\x3e\r\n\r\n<script>\r\n    function vender(){\r\n        let cliente=document.getElementById("cliente").value;\r\n        let id=document.getElementById("id").value;\r\n        let total=document.getElementById("pagoTotal").innerHTML;\r\n\r\n        let tr2=document.querySelectorAll(".tr2")\r\n        let datos=[];\r\n        tr2.forEach(function(el,index){\r\n            datos.push(\r\n                {\r\n                    "cliente":cliente,\r\n                    "usuario":id,\r\n                    "producto":el.children[0].children[0].value,\r\n                    "precio":el.children[1].children[0].value,\r\n                    "cantidad":el.children[2].children[0].value,\r\n                    "subtotal":el.children[3].children[0].value,\r\n                    "total":total\r\n                }\r\n            )\r\n        });\r\n        \r\n        console.log(datos)\r\n        \r\n        \r\n        var ruta = "{{ url(\'registrar-salida\') }}";\r\n        $.ajax({\r\n            url: ruta,\r\n            type: "post",\r\n            data:{valores : JSON.stringify(datos)},\r\n            headers: {\r\n                \'X-CSRF-TOKEN\': $(\'meta[name="csrf-token"]\').attr(\'content\')\r\n            },\r\n            success: function(data) {},\r\n            error: function(data) {}\r\n        })\r\n    }\r\n<\/script>\n'})}),"\n",(0,s.jsx)(r.h3,{id:"en-la-ruta-y-el-controlador",children:"En la ruta y el controlador"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'// EN LA RUTA\r\nRoute::post("/registrar-salida", [SalidaController::class, "registrarVenta"]);\r\n\r\n// EN EL CONTROLADOR\r\npublic function registrarVenta(Request $request)\r\n{\r\n    $valores = $request->valores;\r\n    $valores = json_decode($valores);\r\n\r\n    return response()->json([\'dato2\' => $valores, 200]);\r\n}\n'})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"\ufe0f-enviar-imagen-a-la-bd-desde-un-formulario",children:["\ud83d\uddbc\ufe0f ",(0,s.jsx)(r.strong,{children:"ENVIAR IMAGEN A LA BD DESDE UN FORMULARIO"})]}),"\n",(0,s.jsx)(r.h3,{id:"paso-1-el-formulario-debe-llevar-el-atributo-enctype",children:"Paso 1: El formulario debe llevar el atributo enctype"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-html",children:'<form method="POST" action="{{route(\'perfil.store\')}}" enctype="multipart/form-data">\r\n@csrf\r\n    <input type="file" class="form-control" name="foto">\r\n    <input type="submit">\r\n</form>\n'})}),"\n",(0,s.jsx)(r.h3,{id:"paso-2-recibir-la-imagen-enviada-desde-el-controlador",children:"Paso 2: Recibir la imagen enviada desde el controlador"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"<?php\r\n$foto = file_get_contents($_FILES['foto']['tmp_name']);\r\n?>\n"})}),"\n",(0,s.jsx)(r.h3,{id:"paso-3-mostrar-en-pantalla-la-imagen",children:"Paso 3: Mostrar en pantalla la imagen"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-html",children:'<img src="data:image/jpg;base64,<?= base64_encode($item->foto) ?>" alt="">\n'})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-otros-comandos",children:["\ud83d\udd27 ",(0,s.jsx)(r.strong,{children:"OTROS COMANDOS"})]}),"\n",(0,s.jsx)(r.h3,{id:"llamar-ruta-con-par\xe1metros",children:"Llamar ruta con par\xe1metros"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-html",children:'<a href="{{ route(\'comunicado.show\', ["$i->id1", "$i->id2", "$i->id3"]) }}"></a>\n'})}),"\n",(0,s.jsx)(r.h3,{id:"select-autom\xe1tico",children:"Select autom\xe1tico"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-html",children:'<select name="grado" id="grado">\r\n    <option value="">Grado y seccion...</option>\r\n    @foreach ($sql2 as $item)\r\n    <option {{ $item->id_grado == $i->id_grado ? \'selected\' : \'\' }}\r\n        value="{{ $item->id_grado }}">\r\n        {{ $item->grado . \' \' . $item->seccion1 }}\r\n    </option>\r\n    @endforeach\r\n</select>\n'})}),"\n",(0,s.jsx)(r.h3,{id:"dar-formato-a-men\xfas-de-navegaci\xf3n",children:"Dar formato a men\xfas de navegaci\xf3n"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-html",children:"<li class=\"treeview {{ Request::is('usuarios*', 'estudiantes*', 'docentes*', 'directors*', 'tipo-usuarios*') ? 'menu-open' : '' }}\"></li>\r\n<a style=\"{{ Request::is('usuarios*', 'estudiantes*', 'docentes*', 'directors*', 'tipo-usuarios*') ? 'border-left:solid 2px #00C4FD!important' : '' }}\"></a>\n"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-pwa-progressive-web-app",children:["\ud83d\udcf1 ",(0,s.jsx)(r.strong,{children:"PWA (PROGRESSIVE WEB APP)"})]}),"\n",(0,s.jsx)(r.h3,{id:"si-hay-error-configurar-lo-siguiente",children:"Si hay error, configurar lo siguiente"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"// Ubicarse en public/serviceworker.js\r\nvar staticCacheName = \"pwa-v\" + new Date().getTime(); // Intenta eliminar esta l\xednea\r\nvar filesToCache = [\r\n    '/offline',\r\n    '/css/app.css', // Corrige esta l\xednea\r\n    '/js/app.js', // Corrige esta l\xednea\r\n    '/images/icons/icon-72x72.png',\r\n    '/images/icons/icon-96x96.png',\r\n    '/images/icons/icon-128x128.png',\r\n    '/images/icons/icon-144x144.png',\r\n    '/images/icons/icon-152x152.png',\r\n    '/images/icons/icon-192x192.png',\r\n    '/images/icons/icon-384x384.png',\r\n    '/images/icons/icon-512x512.png',\r\n];\n"})}),"\n",(0,s.jsx)(r.h3,{id:"instrucciones-de-implementaci\xf3n",children:"Instrucciones de implementaci\xf3n"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'# Link de ayuda\r\nhttps://omarbarbosa.com/posts/convertir-aplicacion-laravel-en-una-pwa\r\n\r\n# Correr el servidor\r\nphp artisan serve\r\n\r\n# Instalar\r\ncomposer require silviolleite/laravelpwa\r\n\r\n# Publicar\r\nphp artisan vendor:publish --provider="LaravelPWA\\Providers\\LaravelPWAServiceProvider"\n'})}),"\n",(0,s.jsx)(r.p,{children:"En la carpeta config encontraremos el archivo laravelpwa.php y haremos las modificaciones necesarias como el nombre, corto y largo, que la aplicaci\xf3n tendr\xe1, tambi\xe9n los colores que apliquen de acuerdo a la paleta de colores del dise\xf1o."}),"\n",(0,s.jsx)(r.p,{children:"Reemplazo de im\xe1genes: En el archivo de configuraci\xf3n hay dos arrays que relacionan las im\xe1genes (iconos, splash) que requiere toda aplicaci\xf3n web progresiva para su normal funcionamiento; debes reemplazarlas con tus iconos y personalizar los splash, los cuales se ver\xe1n de primera mano mientras se carga la aplicaci\xf3n. Estas im\xe1genes fueron publicadas en la carpeta p\xfablica, en la ruta public/images/icons."}),"\n",(0,s.jsx)(r.p,{children:"Incluir directiva de Blade: Para que los assets est\xe9n disponibles en el navegador, debemos incluir la directiva @laravelPWA de Blade en el layout, el cual es la vista padre. Es importante que sea antes de cerrar el head."}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-html",children:"<html>\r\n<head>\r\n    <title>Aplicaci\xf3n</title>\r\n    ...\r\n    @laravelPWA\r\n</head>\r\n<body>\r\n    ...\r\n    @yield('content')\r\n    ...\r\n</body>\r\n</html>\n"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-whatsapp-api",children:["\ud83d\udcf1 ",(0,s.jsx)(r.strong,{children:"WHATSAPP API"})]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"<?php\r\n// Primero debes crear y configurar tu API aqu\xed https://developers.facebook.com/docs/whatsapp/\r\n\r\n// Instalamos guzzlehttp\r\ncomposer require guzzlehttp/guzzle\r\n\r\n// En la ruta\r\nRoute::get(\"/enviar-mensaje\", [EnviarController::class, \"enviar\"]);\r\n\r\n// En el controlador\r\npublic function enviar()\r\n{\r\n    try {\r\n        $token = 'EAATiSXnyZBRwBAL5VaQZC9PVE9ltUySuJqjvRQVTlDqZCkrNmML1QSJUCDcU7vnkZCJqNDCM64Y3zdKQzKBZARjAl2jo8j0M5PP5cOpY68tI2HpZA9SNzcv5epqYVUg4k986gWeje5x3eXtz9kpm85CD6LbZBPRMmBsoQG6RxJ4hWiVSyRM3QcO11ParAGix8bsxImI0cog6ojJESZAmOgHk';\r\n        $phoneId = '101091292888818';\r\n        $version = 'v15.0';\r\n        $payload = [\r\n            'messaging_product' => 'whatsapp',\r\n            'to' => '51973698935',\r\n            'type' => 'template',\r\n            'template' => [\r\n                'name' => 'hello_world',\r\n                'language' => [\r\n                    'code' => 'en_US'\r\n                ]\r\n            ]\r\n        ];\r\n\r\n        $mensaje = Http::withToken($token)->post('https://graph.facebook.com/' . $version . '/' . $phoneId . '/messages', $payload)->throw()->json();\r\n        return response()->json([\r\n            'success' => true,\r\n            'data' => $mensaje\r\n        ], 200);\r\n    } catch (\\Throwable $e) {\r\n        return response()->json([\r\n            'success' => false,\r\n            'error' => $e->getMessage(),\r\n        ], 500);\r\n    }\r\n}\r\n?>\n"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-paginaci\xf3n-en-laravel",children:["\ud83d\udcc4 ",(0,s.jsx)(r.strong,{children:"PAGINACI\xd3N EN LARAVEL"})]}),"\n",(0,s.jsx)(r.h3,{id:"paso-1-debes-tener-creado-tu-modelo",children:"Paso 1: Debes tener creado tu Modelo"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<?php\r\nnamespace App\\Models;\r\n\r\nuse Illuminate\\Database\\Eloquent\\Factories\\HasFactory;\r\nuse Illuminate\\Database\\Eloquent\\Model;\r\n\r\nclass Estudiante extends Model\r\n{\r\n    use HasFactory;\r\n    protected $table = "estudiante";\r\n    protected $primaryKey = "id_estudiante";\r\n    public $timestamps = false;\r\n    protected $fillable = [\r\n        "dni", "nombre", "apellido_paterno", "apellido_materno", "estado_voto", "grado"\r\n    ];\r\n}\n'})}),"\n",(0,s.jsx)(r.h3,{id:"paso-2-en-el-controlador",children:"Paso 2: En el controlador"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'public function index()\r\n{\r\n    $sql = Estudiante::paginate(5);\r\n    return view("vistas/estudiante")\r\n        ->with("estudiante", $sql);\r\n}\n'})}),"\n",(0,s.jsx)(r.h3,{id:"paso-3-en-la-vista",children:"Paso 3: En la vista"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"@foreach ($estudiantes as $estudiante)\r\n    // mostrar datos del estudiante\r\n@endforeach\r\n\r\n<div class=\"text-right\">\r\n    {{ $estudiante->links('pagination::bootstrap-4') }}\r\n    Mostrando {{ $estudiante->firstItem() }} - {{ $estudiante->lastItem() }} de {{ $estudiante->total() }}\r\n    resultados\r\n</div>\n"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-obtener-el-id-asignado-a-un-registro",children:["\ud83c\udd94 ",(0,s.jsx)(r.strong,{children:"OBTENER EL ID ASIGNADO A UN REGISTRO"})]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"<?php\r\n$id = DB::table('usuario')->insertGetId([\r\n    'nombre' => $nombre,\r\n    'apellido_paterno' => $ape_pat,\r\n    'apellido_materno' => $ape_mat,\r\n    'usuario' => $usuario,\r\n    'password' => $clave,\r\n    'correo' => $correo,\r\n    'foto' => $foto,\r\n    'estado' => 1,\r\n]);\r\n\r\n// $id contiene el ID asignado al nuevo registro en la tabla \"usuario\"\n"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-guardar-archivos-en-servidor",children:["\ud83d\udcbe ",(0,s.jsx)(r.strong,{children:"GUARDAR ARCHIVOS EN SERVIDOR"})]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<?php\r\n// Guardando la foto en servidor\r\ntry {\r\n    $file = $request->file("txtfoto");\r\n    $nombreFile = "usuario-" . $usuario . "." . $file->guessExtension();\r\n    $ruta = public_path("foto/usuario/" . $nombreFile);\r\n    copy($file, $ruta);\r\n} catch (\\Throwable $th) {\r\n    $ruta = "";\r\n}\r\n\r\nif (file_exists($ruta)) {\r\n} else {\r\n    return back()->with("INCORRECTO", "Hubo un error al subir la foto ");\r\n}\r\n\r\n\r\n// Eliminamos la imagen anterior\r\n// OJO: si vas a reemplazar una imagen por otra con el mismo nombre NO es necesario eliminar, porque solo lo reemplazar\xe1\r\n$rutaAn = public_path("foto/usuario/" . $request->txtid);\r\nif (unlink("$rutaAn")) {\r\n    // El archivo se elimin\xf3 correctamente\r\n} else {\r\n    // No se pudo eliminar el archivo\r\n}\n'})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-configurar-sweet-alert",children:["\ud83c\udf6d ",(0,s.jsx)(r.strong,{children:"CONFIGURAR SWEET ALERT"})]}),"\n",(0,s.jsx)(r.h3,{id:"html-para-el-bot\xf3n-de-eliminar",children:"HTML para el bot\xf3n de eliminar"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-html",children:'<form action="{{ route(\'estudiante.delete\', $item->id_estudiante) }}" method="get"\r\n    class="d-inline formulario-eliminar">\r\n</form>\r\n<a href="#" class="btn btn-sm btn-danger eliminar"\r\n    data-id="{{ $item->id_estudiante }}">\r\n    <i class="fas fa-trash-alt"></i>\r\n</a>\n'})}),"\n",(0,s.jsx)(r.h3,{id:"javascript-para-sweet-alert",children:"JavaScript para Sweet Alert"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-javascript",children:'$(document).on("click", "a.eliminar", function (event) {\r\n    event.preventDefault(); // Evita que se siga el enlace\r\n    var form = $(this).prev(".formulario-eliminar"); // Obtiene el formulario anterior al bot\xf3n\r\n    var url = form.attr("action"); // Obtiene la URL de la ruta de eliminaci\xf3n\r\n    var csrf_token = $(\'meta[name="csrf-token"]\').attr("content"); // Obtiene el token CSRF\r\n\r\n    Swal.fire({\r\n        title: "\xbfEst\xe1 seguro?",\r\n        text: "\xa1 No podr\xe1 recuperar este registro !",\r\n        icon: "warning",\r\n        showCancelButton: true,\r\n        confirmButtonColor: "#2CB073",\r\n        cancelButtonColor: "#d33",\r\n        confirmButtonText: "Si, Eliminar",\r\n        cancelButtonText: "No, Salir",\r\n        reverseButtons: true,\r\n        padding: "20px",\r\n        backdrop: true,\r\n        position: "top",\r\n        allowOutsideClick: true,\r\n        allowEscapeKey: true,\r\n        allowEnterKey: false,\r\n    }).then((confirm) => {\r\n        if (confirm.isConfirmed) {\r\n            // Agrega el token CSRF al formulario\r\n            form.append(\r\n                \'<input type="hidden" name="_token" value="\' + csrf_token + \'">\'\r\n            );\r\n            form.submit(); // Env\xeda el formulario\r\n        }\r\n    });\r\n});\n'})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-descargar-sql-de-bd-backup",children:["\ud83d\udcbe ",(0,s.jsx)(r.strong,{children:"DESCARGAR SQL DE BD (BACKUP)"})]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:"Route::get('backup', function () {\r\n    $dbname = 'trabajo_sistema_nota3';\r\n    $dbuser = 'root';\r\n    $dbpass = '';\r\n    $dbhost = 'localhost';\r\n\r\n    $backupFile = $dbname . date(\"Y-m-d-H-i-s\") . '.sql';\r\n    $command = \"mysqldump --user=$dbuser --password=$dbpass --host=$dbhost $dbname > $backupFile\";\r\n\r\n    system($command, $output);\r\n\r\n    header('Content-Description: File Transfer');\r\n    header('Content-Type: application/octet-stream');\r\n    header('Content-Disposition: attachment; filename=' . basename($backupFile));\r\n    header('Expires: 0');\r\n    header('Cache-Control: must-revalidate');\r\n    header('Pragma: public');\r\n    header('Content-Length: ' . filesize($backupFile));\r\n    readfile($backupFile);\r\n})->name('backup')->middleware('verified');\n"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-quickchart",children:["\ud83d\udcca ",(0,s.jsx)(r.strong,{children:"QUICKCHART"})]}),"\n",(0,s.jsx)(r.p,{children:"Sirve para imprimir Gr\xe1ficos en archivos PDF. Lo que este complemento hace es convertir tu gr\xe1fico ChartJS en IMG y mostrarlo en el PDF."}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-api-rest",children:["\ud83d\udd0c ",(0,s.jsx)(r.strong,{children:"API REST"})]}),"\n",(0,s.jsx)(r.h3,{id:"crear-tu-controlador",children:"Crear tu controlador"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<?php\r\npublic function index()\r\n{\r\n    $sql = DB::select("select * from producto");\r\n    return response()->json($sql, 200);\r\n}\r\n\r\n\r\npublic function store(Request $request)\r\n{\r\n    $request->validate([\r\n        "nombre" => "required",\r\n        "cantidad" => "required",\r\n        "total" => "required"\r\n    ]);\r\n    $sql = DB::insert("insert into producto(nombre,cantidad,total)values(?,?,?)", [\r\n        $request->nombre,\r\n        $request->cantidad,\r\n        $request->total\r\n    ]);\r\n    if ($sql == 1) {\r\n        return response()->json(["mensaje" => "producto registrado"], 200);\r\n    } else {\r\n        return response()->json(["error" => "error al registrar"], 201);\r\n    }\r\n}\r\n\r\n    \r\npublic function show($id)\r\n{\r\n    $sql = DB::select("select * from producto where id_producto=?", [\r\n        $id\r\n    ]);\r\n    return response()->json($sql, 200);\r\n}\r\n\r\n\r\npublic function update(Request $request, $id)\r\n{\r\n    $request->validate([\r\n        "nombre" => "required",\r\n        "cantidad" => "required",\r\n        "total" => "required"\r\n    ]);\r\n\r\n    try {\r\n        $sql = DB::update("update producto set nombre=?, cantidad=?, total=? where id_producto=$id", [\r\n            $request->nombre,\r\n            $request->cantidad,\r\n            $request->total\r\n        ]);\r\n        if ($sql == 0) {\r\n            $sql = 1;\r\n        }\r\n    } catch (\\Throwable $th) {\r\n        $sql = 0;\r\n    }\r\n\r\n    if ($sql == 1) {\r\n        return response()->json(["mensaje" => "producto actualizado"], 200);\r\n    } else {\r\n        return response()->json(["error" => "error al actualizar"], 201);\r\n    }\r\n}\r\n\r\n\r\npublic function destroy($id)\r\n{\r\n    $sql = DB::delete("delete from producto where id_producto=?", [\r\n        $id\r\n    ]);\r\n    if ($sql == 1) {\r\n        return response()->json(["mensaje" => "producto eliminado"], 200);\r\n    } else {\r\n        return response()->json(["error" => "error al eliminar"], 201);\r\n    }\r\n}\r\n?>\n'})}),"\n",(0,s.jsx)(r.h3,{id:"crear-tu-ruta",children:"Crear tu ruta"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-php",children:'<?php\r\nRoute::get("listar-productos", [ProductoController::class, "index"]);\r\nRoute::get("lista-productos-id-{id}", [ProductoController::class, "show"]);\r\nRoute::post("crear-producto", [ProductoController::class, "store"]);\r\nRoute::post("actualizar-producto-{id}", [ProductoController::class, "update"]);\r\nRoute::get("eliminar-producto-{id}", [ProductoController::class, "destroy"]);\r\n?>\n'})}),"\n",(0,s.jsx)(r.h3,{id:"url-para-pruebas",children:"URL para pruebas"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:'http://127.0.0.1:8000/api/lista-productos\r\n\r\nhttp://127.0.0.1:8000/api/crear-producto\r\nen header:\r\nAccept  application/json\r\n\r\nen body raw:\r\n{\r\n    "nombre":"mouse",\r\n    "cantidad":"20",\r\n    "total":"150"\r\n}\n'})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.h2,{id:"-vite",children:["\ud83d\ude80 ",(0,s.jsx)(r.strong,{children:"VITE"})]}),"\n",(0,s.jsx)(r.h3,{id:"pasos-para-correr-proyecto-con-vite",children:"Pasos para correr proyecto con Vite"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsx)(r.li,{children:"npm install"}),"\n",(0,s.jsx)(r.li,{children:"npm run dev"}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"pasos-para-correr-proyecto-con-vite-en-producci\xf3n",children:"Pasos para correr proyecto con Vite en Producci\xf3n"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsx)(r.li,{children:"npm run build"}),"\n",(0,s.jsx)(r.li,{children:"Aseg\xfarate de que .GitIgnore no lo tenga en cuenta"}),"\n"]})]})}function u(e={}){const{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},3934:(e,r,n)=>{n.d(r,{A:()=>a});const a=n.p+"assets/images/estructura-carpetas-1d687b89e415144f9e50795fd68486a0.JPG"},8453:(e,r,n)=>{n.d(r,{R:()=>l,x:()=>i});var a=n(6540);const s={},o=a.createContext(s);function l(e){const r=a.useContext(o);return a.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),a.createElement(o.Provider,{value:r},e.children)}}}]);